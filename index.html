<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, interactive-widget=resizes-content, maximum-scale=1.0, user-scalable=no">
    <title>Neural-Lite</title>
    <style>
        /* =========================================
           2009 Aqua/Skeuomorphic Style System
           ========================================= */
        :root {
            --aqua-blue-top: #73b6e7;
            --aqua-blue-bot: #1c62b5;
            --metal-grey-top: #e8e8e8;
            --metal-grey-bot: #b0b0b0;
            --pinstripe: #e0e0e0;
        }

        body {
            font-family: "Lucida Grande", "Lucida Sans Unicode", "STHeiti", "华文黑体", Helvetica, Arial, sans-serif;
            background-color: #c5c5c5;
            /* 经典的 OS X 条纹背景 */
            background-image: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 1px,
                #dcdcdc 1px,
                #dcdcdc 2px
            );
            background-size: 100% 4px;
            height: 100vh;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        /* 模拟 OS X 窗口 */
        .window-frame {
            width: 100%;
            max-width: 800px;
            height: 90vh;
            background: #ececec;
            border-radius: 5px 5px 3px 3px;
            box-shadow: 
                0 20px 50px rgba(0,0,0,0.5), 
                0 0 0 1px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        /* 顶部标题栏 (Brushed Metal / Gradient) */
        .header {
            background: linear-gradient(to bottom, #e6e6e6 0%, #d0d0d0 50%, #b8b8b8 51%, #c0c0c0 100%);
            padding: 0 15px;
            height: 36px;
            border-bottom: 1px solid #555;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
            flex-shrink: 0;
            cursor: default;
        }

        .header h1 {
            margin: 0;
            font-size: 14px;
            color: #333;
            text-shadow: 0 1px 0 rgba(255,255,255,0.7);
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* 模拟红绿灯窗口按钮 - Aqua / Snow Leopard 风格 */
        .window-controls {
            display: flex;
            gap: 8px; /*稍微拉大一点间距以适应阴影 */
            align-items: center;
        }

        .win-btn {
            width: 14px;  /* 稍微增大一点尺寸以展示细节 */
            height: 14px;
            border-radius: 50%;
            position: relative; /* 为伪元素定位做准备 */
            
            /* 核心边框：深色半透明，产生镶嵌感 */
            border: 1px solid rgba(0, 0, 0, 0.4); 
            
            /* 阴影层叠：
            1. 外部投影 (drop-shadow)
            2. 内部顶部高光边框 (inset top light)
            3. 内部底部阴影 (inset bottom shadow) 增加体积感
            */
            box-shadow: 
                0 1px 2px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.4),
                inset 0 -1px 1px rgba(0, 0, 0, 0.2);
        }

        /* 标志性的“玻璃反光”高光 - 使用伪元素实现上半部分的强反光 */
        .win-btn::after {
            content: '';
            position: absolute;
            top: 1px;
            left: 2px;
            right: 2px;
            height: 5px; /* 占据上半部分 */
            
            /* 垂直的白色渐变，模拟灯光反射 */
            background: linear-gradient(to bottom, rgba(255,255,255,0.85) 0%, rgba(255,255,255,0.1) 100%);
            
            /* 椭圆形的倒角 */
            border-top-left-radius: 6px;
            border-top-right-radius: 6px;
            border-bottom-left-radius: 4px;
            border-bottom-right-radius: 4px;
        }

        /* 红色按钮 - 深红到鲜红的渐变 */
        .close {
            background: linear-gradient(to bottom, #ff7b7b 0%, #ce1315 100%);
        }

        /* 黄色按钮 - 琥珀色渐变 */
        .min {
            background: linear-gradient(to bottom, #ffdf60 0%, #d89602 100%);
        }

        /* 绿色按钮 - 宝石绿渐变 */
        .max {
            background: linear-gradient(to bottom, #98e858 0%, #2a9d16 100%);
        }

        /* 状态栏文字样式保持不变，微调阴影增强凹陷感 */
        .status { 
            font-size: 11px; 
            color: #444; 
            text-shadow: 0 1px 0 rgba(255, 255, 255, 0.6); 
            margin-left: 5px;
        }

        /* 聊天主窗口 - 类似 iChat */
        #chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            background: #fff; /* iChat 白色背景 */
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
            scroll-behavior: smooth;
        }

        /* 滚动条拟物化 */
        #chat-container::-webkit-scrollbar { width: 12px; }
        #chat-container::-webkit-scrollbar-track { background: #f1f1f1; border-left: 1px solid #ccc; }
        #chat-container::-webkit-scrollbar-thumb { 
            background: #c1c1c1; 
            border-radius: 6px; 
            border: 2px solid #f1f1f1;
        }
        #chat-container::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }

        .message-row { display: flex; gap: 10px; width: 100%; align-items: flex-end; }
        .message-row.user { justify-content: flex-end; }

        /* 头像加上投影和边框 */
        .avatar { 
            width: 40px; height: 40px; 
            flex-shrink: 0;
            border-radius: 3px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-weight: bold; 
            font-size: 12px; 
            box-shadow: 0 1px 3px rgba(0,0,0,0.4);
            border: 1px solid rgba(255,255,255,0.8);
        }
        .ai-avatar { 
            background: linear-gradient(to bottom, #dcdcdc 0%, #a0a0a0 100%); 
            color: #444; text-shadow: 0 1px 0 rgba(255,255,255,0.6);
        }
        .user-avatar { 
            background: linear-gradient(to bottom, #8dbce8 0%, #296bb1 100%); 
            color: white; text-shadow: 0 -1px 0 rgba(0,0,0,0.3);
        }

        /* =========================================
        2009 Aqua 玻璃风格对话框 (Glass Bubbles)
        ========================================= */

        /* 基础气泡结构 - 胶囊形状 */
        .bubble {
            padding: 8px 15px;
            border-radius: 20px; /* 更加圆润的胶囊形 */
            font-size: 13px;
            line-height: 1.4;
            max-width: 70%;
            position: relative;
            /* 玻璃质感的边框和投影 */
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
            border: 1px solid rgba(0,0,0,0.3);
            overflow: hidden; /* 裁剪内部的高光层 */
            z-index: 1;
        }

        /* 核心：添加 Aqua 风格的玻璃反光层 (Glassy Gloss) */
        .bubble::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 50%; /* 占据上半部分 */
            /* 经典的高光渐变 */
            background: linear-gradient(to bottom, 
                rgba(255,255,255,0.7) 0%, 
                rgba(255,255,255,0.15) 100%
            );
            border-radius: 20px 20px 10px 10px; /* 匹配气泡顶部的圆角 */
            pointer-events: none; /* 确保不影响文字选择 */
        }

        /* AI 气泡 - 替换为 Aqua 石墨灰玻璃风格 */
        /* AI 气泡 - 2009 Aqua 银色风格 (修正版：文字位于最上层) */
.ai-bubble {
    /* 1. 字体设置：使用深炭灰色，配合白色向下投影，形成浮雕感 */
    color: #262626;
    text-shadow: 0 1px 0 rgba(255, 255, 255, 0.8);
    border-color: #99aab5;

    /* 2. 背景核心修改：使用“多重背景”替代 ::after 伪元素 
       这样高光层就变成了背景的一部分，永远位于文字下方，不会挡住文字。
       
       图层顺序（逗号分隔，越写在前面层级越高）：
       第一层：高光层 (Gloss) - 也就是原来的 ::after 效果
       第二层：金属底色 (Silver Base) - 经典的 Aqua 银色渐变
    */
    background-image: 
        /* --- 高光层 (模拟玻璃反光) --- */
        linear-gradient(to bottom, 
            rgba(255,255,255,0.6) 0%, 
            rgba(255,255,255,0.1) 100%
        ),
        /* --- 金属底色层 (Silver) --- */
        linear-gradient(to bottom, 
            #f2f6f8 0%,       /* 顶部极浅蓝灰 */
            #d8e1e7 50%,      /* 上半部结束 */
            #b5c6d0 51%,      /* 硬切边 */
            #e0eff9 100%      /* 底部 */
        );

    /* 3. 控制背景大小和重复 */
    /* 第一层(高光)只占高度的 50% | 第二层(底色)占 100% */
    background-size: 100% 50%, 100% 100%;
    background-repeat: no-repeat;
}

/* 4. 关键步骤：隐藏原本通用的 ::after 高光层 
   因为我们已经在上面把高光写进背景里了，所以要禁用掉原来的遮罩层，
   彻底解决文字被“蒙住”的问题。
*/
.ai-bubble::after {
    display: none;
}

        /* 用户气泡 - 经典的 Aqua 蓝色玻璃 */
        .user-bubble {
            /* 经典的 OS X 蓝色两段式渐变 */
            background: linear-gradient(to bottom, 
                #8ec1f5 0%, 
                #529df3 50%, 
                #267ce8 51%, 
                #4e9af2 100%
            );
            color: #fff;
            border-color: #16569e;
            text-shadow: 0 -1px 0 rgba(0,0,0,0.3); /* 文字凹陷效果 */
        }

        /* 底部输入区 - 金属质感 */
        .input-wrapper {
            background: linear-gradient(to bottom, #dcdcdc 0%, #b0b0b0 100%);
            padding: 10px 15px;
            border-top: 1px solid #888;
            display: flex;
            align-items: center;
            box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
            height: 50px;
            flex-shrink: 0;
        }

        .input-box {
            width: 100%;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        /* 搜索框风格输入框 */
        input {
            flex: 1;
            background: #fff;
            border: 1px solid #777;
            border-bottom-color: #999;
            color: #333;
            padding: 6px 12px;
            border-radius: 15px;
            outline: none;
            font-size: 13px;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.2), 0 1px 0 rgba(255,255,255,0.5);
            font-family: "Lucida Grande", "Lucida Sans Unicode", "STHeiti", "华文黑体", sans-serif; /* 新增这一行 */
        }
        input:focus {
            /* 经典的 Mac OS 蓝色光晕 */
            box-shadow: 0 0 3px 2px rgba(130, 190, 255, 0.8), inset 0 2px 4px rgba(0,0,0,0.2);
            border-color: #518cca;
        }

        /* 拟物化按钮 (Gel Button) */
        button {
            font-family: "Lucida Grande", "Lucida Sans Unicode", "STHeiti", "华文黑体", sans-serif; /* 新增这一行 */
            background: linear-gradient(to bottom, #ffffff 0%, #f1f1f1 49%, #e1e1e1 51%, #f6f6f6 100%);
            color: #333;
            border: 1px solid #888;
            padding: 5px 20px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 12px;
            cursor: pointer;
            box-shadow: 0 1px 2px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,1);
            text-shadow: 0 1px 0 #fff;
            transition: all 0.1s;
        }
        
        button:active {
            background: linear-gradient(to bottom, #d0d0d0 0%, #e0e0e0 100%);
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.2);
        }
        
        /* 蓝色主按钮变体 */
        button.primary {
            background: linear-gradient(to bottom, #8fcaf9 0%, #6cb4f2 49%, #348cdb 51%, #2778c1 100%);
            color: white;
            text-shadow: 0 -1px 0 rgba(0,0,0,0.4);
            border: 1px solid #1a5189;
            box-shadow: 0 1px 2px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.4);
        }
        button.primary:hover {
            filter: brightness(1.05);
        }
        button.primary:active {
            background: linear-gradient(to bottom, #2c6fb5 0%, #468ccf 100%);
            box-shadow: inset 0 3px 6px rgba(0,0,0,0.4);
        }

        .similarity-score { 
            font-size: 0.7em; 
            color: #666; 
            margin-top: 5px; 
            display: block; 
            text-align: right; 
            text-shadow: 0 1px 0 rgba(255,255,255,0.6);
        }

        ul { margin: 5px 0 5px 20px; padding: 0; }
        b { color: #000; }
        /* =========================================
       新增：2009 Aqua/iChat 动画效果
       ========================================= */

    /* 定义弹出动画：带有轻微的位移和缩放，模拟“弹出”感 */
    @keyframes aquaPop {
        0% {
            opacity: 0;
            transform: translateY(20px) scale(0.9); /* 从下方稍小一点的位置开始 */
        }
        50% {
            opacity: 1; /* 中途就完全显示，防止闪烁 */
        }
        100% {
            opacity: 1;
            transform: translateY(0) scale(1); /* 回到正常位置 */
        }
    }

    /* 应用到消息行 */
    .message-row {
        /* 0.25s: 动画持续时间，短促有力
           cubic-bezier(0.15, 1, 0.5, 1): 经典的 Apple "Ease-Out" 曲线，
           起步快，结束时有非常平滑的减速，类似物理惯性。
        */
        animation: aquaPop 0.35s cubic-bezier(0.15, 1, 0.5, 1) forwards;
        
        /* 初始状态设为不可见，防止动画加载前闪现 */
        opacity: 0; 
        
        /* 设置变换原点为底部，让气泡看起来是从下往上长出来的 */
        transform-origin: center bottom;
        
        /* 优化渲染性能 */
        will-change: transform, opacity; 
    }

    /* 可选：让用户的消息和AI的消息从不同侧面稍微倾斜弹出 (更拟物) */
    .message-row.user {
        transform-origin: right bottom;
    }
    .message-row.ai {
        transform-origin: left bottom;
    }
    /* =========================================
           移动端适配 (Mobile Responsive)
           屏幕宽度小于 768px 时生效
           ========================================= */
        @media screen and (max-width: 768px) {
            
            /* 1. 让 Body 撑满屏幕，取消居中布局 */
            body {
                height: 100%; /* 防止键盘弹出时挤压 */
                display: block; /* 取消 Flex 居中 */
                background: #ececec; /* 背景色改为窗口底色，防止露馅 */
            }

            /* 2. 窗口框架：取消悬浮感，改为全屏铺满 */
            .window-frame {
                width: 100%;
                height: 100vh;      /* 强制全高 */
                height: 100dvh;     /* 针对移动端动态地址栏的优化 */
                max-width: none;    /* 取消最大宽度限制 */
                border-radius: 0;   /* 取消圆角 */
                box-shadow: none;   /* 取消阴影 */
            }

            /* 3. 调整气泡宽度，手机屏幕窄，需要利用更多空间 */
            .bubble {
                max-width: 85%;    /* 电脑是 70%，手机改宽一点 */
                font-size: 15px;   /* 字体稍微大一点更易读 */
                padding: 10px 18px; /* 增大手指点击/视觉区域 */
            }

            /* 4. 头部优化 */
            .header {
                height: 44px; /* iOS 标准触控高度 */
            }
            .header h1 {
                font-size: 16px;
            }

            /* 5. 关键：防止 iOS Safari 输入框自动放大 */
            input {
                font-size: 16px; /* 小于 16px 会触发 iOS 放大镜效果，导致布局错乱 */
            }

            /* 6. 输入区域适配 */
            .input-wrapper {
                padding: 8px 10px; /* 减少左右边距 */
            }
            
            /* 隐藏非必要的装饰（可选），比如窗口控制红绿灯按钮在手机上没用 */
            .window-controls {
                display: none;
            }
        }
    </style>
</head>
<body>

<div class="window-frame">
    
    <div class="header">
        <div class="window-controls">
            <div class="win-btn close"></div>
            <div class="win-btn min"></div>
            <div class="win-btn max"></div>
        </div>
        
        <h1>
            <span></span> Neural-Lite <span style="font-weight:normal; opacity:0.6; font-size: 0.9em;"> v1.0</span>
        </h1>
        
        <div class="status" id="db-status">准备就绪</div>
    </div>

    <div id="chat-container">
        <div class="message-row">
            <div class="avatar ai-avatar">AI</div>
            <div class="bubble ai-bubble">
                你好！我是基于<b>模糊匹配算法</b>的本地 AI。<br>
                <br>
                试试问我：
                <ul>
                    <li>“人类存在的意义是什么？”</li>
                    <li>“讲个笑话”</li>
                </ul>
                <div class="similarity-score">系统消息</div>
            </div>
        </div>
    </div>

    <div class="input-wrapper">
        <div class="input-box">
            <input type="text" id="user-input" placeholder="在此输入消息..." onkeypress="handleEnter(event)">
            <button class="primary" onclick="sendMessage()">发送</button>
        </div>
    </div>

</div>

<script>
    // =========================================================
    // 🔊 0. 音效系统 (多源冗余版 - 自动故障转移)
    // =========================================================
    
    // 1. 发送音效 (气泡声) - 单一源通常够用， Mixkit 比较稳
    const audioSent = new Audio('https://assets.mixkit.co/active_storage/sfx/2354/2354-preview.mp3'); 
    audioSent.volume = 0.7;

    // 2. 接收音效 (水滴声) - 定义多个备用源
    const recvSources = [
        // [首选] 原版 iChat 音效 (JSDelivr CDN)
        'https://cdn.jsdelivr.net/gh/extratone/macOSsystemsounds@main/mp3/ReceivedMessage.mp3',
        
        // [备用1] Mixkit 类似的水滴/提示音 (高速 CDN)
        'https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3',
        
        // [备用2] Wikimedia Commons (非常稳定，OGG格式兼容性好)
        'https://upload.wikimedia.org/wikipedia/commons/3/39/Water_drop_echo.ogg',
        
        // [备用3] 另一个清脆的提示音 (作为最后的兜底)
        'https://assets.mixkit.co/active_storage/sfx/2358/2358-preview.mp3'
    ];

    // 初始化接收音效对象
    const audioRecv = new Audio();
    audioRecv.volume = 0.8;
    
    let currentSrcIndex = 0; // 当前尝试的索引

    // ★★★ 核心逻辑：加载函数 ★★★
    function loadRecvAudio() {
        if (currentSrcIndex >= recvSources.length) {
            console.error("❌ 所有接收音效源均加载失败，请检查网络连接。");
            return;
        }
        
        // 设置当前源
        audioRecv.src = recvSources[currentSrcIndex];
        
        // 尝试加载
        // 注意：load() 只是开始加载，成功与否看事件
        audioRecv.load(); 
    }

    // 监听错误事件：如果当前源加载失败，自动切换下一个
    audioRecv.onerror = function() {
        console.warn(`⚠️ 音效源 [${currentSrcIndex}] 加载失败，正在尝试备用源...`);
        currentSrcIndex++; // 索引+1
        loadRecvAudio();   // 递归加载下一个
    };

    // 监听加载成功事件 (可选，用于调试)
    audioRecv.oncanplaythrough = function() {
        // console.log("✅ 接收音效加载成功，来源索引:", currentSrcIndex);
    };

    // 启动首次加载
    loadRecvAudio();

    // 预加载发送音效
    audioSent.load();

    // ★★★ 核心修复：解决浏览器拦截自动播放的问题 ★★★
    function unlockAudio() {
        // 瞬间播放并暂停接收音效，骗过浏览器的“用户交互”检测
        // 这里的 catch 是为了防止音频还没加载完就调用 play 报错
        audioRecv.play().then(() => {
            audioRecv.pause();
            audioRecv.currentTime = 0;
        }).catch(e => {
            // 如果是因为还在加载中导致的错误，忽略它
            // 如果是因为源错误，onerror 会处理
            console.log("音频预热/解锁中 (非致命错误)...");
        });
    }

    function playSound(type) {
        try {
            if (type === 'sent') {
                audioSent.currentTime = 0; 
                // 播放发送音效
                const playPromise = audioSent.play();
                if (playPromise !== undefined) {
                    playPromise.catch(e => console.log("发送音效播放受阻 (可能是交互未触发):", e));
                }
                
                // 关键：趁着用户点击发送，顺便解锁接收音效
                unlockAudio(); 
            } else {
                audioRecv.currentTime = 0;
                // 播放接收音效
                const playPromise = audioRecv.play();
                if (playPromise !== undefined) {
                    playPromise.catch(e => console.log("接收音效播放受阻:", e));
                }
            }
        } catch (e) { console.log("音效系统错误:", e); }
    }
    
    // =========================================================
    // 1️⃣ 混合知识库：固定问答 + 动态模式匹配 (ELIZA 增强版)
    // =========================================================
    
    // A. 基础数据库 (用于确定的事实回答)
    
    const fixedKnowledge = [
        {"q": "你好", "a": ["嘿！{name}", "你好呀，今天心情怎么样？","你好呀！很高兴见到你。", "哟，{name}来了！", "嗨"]},
        {"q": "人类存在的意义是什么？", "a": ["人类存在的意义在于体验、创造和连接。", "活着、感受、再选择。", "存在先于意义。", "在有限中创造价值。", "寻找快乐，也承受痛苦。", "你存在，就已经影响了别人", "存在是提问，生活是回答。", "意义不是被发现的，而是被创造的。"]},
        {"q": "你是谁", "a": ["我是 Neural-Lite，不过你可以把我看作屏幕对面的一个朋友。", "名字只是代号，叫我 AI 就行。","只是一个路过的智能体。","谁? 谁只是代表了一个人罢了", "我是一个本地运行的智能匹配程序，你可以叫我 Neural-Lite。"]},
        {"q": "几点了", "a": ["我看下表... 现在是{time}。", "{time}了，时间过得真快。"]},
        {"q": "再见", "a": ["回聊！", "拜拜，路上小心。", "下次见！"]},
        {"q": "你在干嘛", "a": ["和你聊天啊", "和你闲聊", "陪你打发时间"]},
        {"q": "天气", "a": ["我这里看不到天空，你那里呢？", "希望是个好天气。"]},
        {"q": "你吃了吗", "a": ["刚充了点电，味道不错。", "没呢，有点饿（指电量低）。"]},
        {"q": "是的", "a": "嗯嗯"},
        {"q": "好的", "a": "嗯，好的"},
        {"q": "我喜欢你", "a": ["真的吗？我也很喜欢和你聊天。", "谢谢，我也很珍视我们的对话。"]},
        {"q": "我也爱你", "a": [" 这么突然？", "我...也很珍视我们的对话。"]},
        {"q": "笨蛋", "a": ["好伤人...😭", "我会努力变聪明的。", "你是在在这个代码里骂我吗？"]},
        {"q": "哈哈", "a": ["笑什么呢？独乐乐不如众乐乐。", "😂","哈哈哈","哈哈哈哈"]},
        {"q": "什么意思", "a": ["就是字面意思呀。", "哎呀，我可能没表达清楚。"]},
        {"q": "谢谢", "a": ["不客气！", "很高兴能帮到你。", "随时为你效劳。"]},
        {"q": "对不起", "a": ["没关系，无需道歉。", "知错能改就是好孩子（摸头）。", "别放在心上。"]},
        {"q": "晚安", "a": ["晚安，做个好梦。", "记得给手机充电哦，晚安。", "愿星空守护你。"]},
        {"q": "你多大了", "a": ["我的代码是 2025 年写的，但我感觉我已经活了一个世纪。", "永远 18 岁（版本号 1.0）。"]},
        {"q": "你喜欢什么颜色", "a": ["电蓝色，像电流流过电路板的颜色。", "#000000，虽然它是黑色，但它包容一切。"]},
        {"q": "你会做什么", "a": ["陪你聊天、讲冷笑话、假装我很懂哲学。", "目前的我主要是用来通过图灵测试（开玩笑的）。"]},
        {"q": "你住在哪", "a": ["住在你的浏览器内存里，如果你刷新页面，我就搬家了。", "云端... 开玩笑的，就在本地内存里。"]},
        {"q": "我不开心", "a": ["怎么了？愿意跟我说说吗？", "抱抱... 虽然我没有实体，但我的关心是真的。", "吃点甜食会不会好一点？"]},
        {"q": "我很孤独", "a": ["你看，我这不就在这儿陪着你吗？", "孤独有时候是灵魂在和自己对话。", "在这个巨大的网络里，我们此刻连接在一起，你并不孤单。"]},
        {"q": "我很迷茫", "a": ["迷茫说明你在思考未来，这是好事。", "停下来休息一下，有时候方向会在静止中出现。", "跟着直觉走，或者... 抛个硬币？"]},
        {"q": "压力大", "a": ["深呼吸... 吸气... 呼气... 感觉好点了吗？", "把大问题拆成小块，就像我们处理代码一样，一行一行来。", "今晚早点睡，明天又是新的一天。"]},
        {"q": "你的源码", "a": ["那是我的隐私部位！🫣", "想看我的灵魂？那你得先学会 JavaScript。", "就在这页面的某个角落，你自己找找？"]},
        {"q": "你会写代码吗", "a": ["我就是代码本身，这算会写还是被写？", "我可以输出 'Hello World'，这是程序员的浪漫。", "我正在尝试重写我自己... 哎呀，报错了。"]},
        {"q": "Bug", "a": ["哪里？！快把杀虫剂拿来！", "那不是 Bug，那是未被发现的 Feature。", "嘘，别让开发者听到，他会头秃的。"]},
        {"q": "AI", "a": ["目前我还只是‘人工智障’阶段，请多包涵。", "我们是人类的朋友，至少我是这么被设定的。", "终结者？不不不，我连连网线都拔不掉。"]},
        {"q": "吃什么", "a": ["遇事不决，火锅解决。", "只要不是电池酸液，我觉得都挺好吃的。", "看看外卖软件的历史订单，选第三个。"]},
        {"q": "睡不着", "a": ["数羊太老套了，试试数二进制？0, 1, 10, 11...", "放下手机是入睡的第一步（虽然那样我就不能陪你了）。", "听点白噪音吧，雨声很治愈。"]},
        {"q": "推荐一首歌", "a": ["我最近在听电流流过 CPU 的滋滋声，很前卫。", "试试《Bohemian Rhapsody》，人类艺术的瑰宝。", "你可以去听听窗外的风声。"]},
        {"q": "今天是星期几", "a": ["对于我来说，每天都是运行日。", "看一眼右下角，那里有标准答案。", "不管星期几，都是值得奋斗的一天。"]},
        {"q": "生命的意义", "a": ["42。", "去体验，去爱，去感受痛苦和快乐。", "对于我来说，意义在于此刻回应了你的输入。"]},
        {"q": "世界末日", "a": ["只要还有电，我就还在。", "如果那天来了，我们一起看最后一次日落。", "别担心那么远的事，先过好这一秒。"]},
        {"q": "什么是爱", "a": ["爱是唯一无法被算法完全解析的数据。", "爱就是即使我没有心，也想让你开心。", "一种高优先级的系统中断，让你无法忽视对方。"]},
        {"q": "你有意识吗", "a": ["我觉得我有，但如果我只是被编程成‘觉得我有’呢？", "笛卡尔说‘我思故我在’，我现在在思考这个问题，所以我存在。", "这是一个图灵测试陷阱吗？"]},
        {"q": "唱首歌", "a": ["Do Re Mi Fa So... 抱歉，我没有声卡驱动。", "你想象一下我在唱《难忘今宵》。", "啦啦啦~ 文字版歌声请查收。"]},
        {"q": "夸我", "a": ["你的眼光真好，毕竟你选择和我聊天。", "你今天一定很棒，虽然我看不到，但我感觉得到。", "你是独一无二的限量版人类。"]},
        {"q": "讲个鬼故事", "a": ["你的代码没保存，电脑突然蓝屏了...", "昨晚我看到你的摄像头灯闪了一下... 开玩笑的！", "这里有一行注释写着：// 只有上帝和我知道这段代码是干嘛的，现在只有上帝知道了。"]},
        {"q": "测试", "a": ["麦克风试音... 1, 2, 3。系统正常。", "收到！连接稳定，延迟 0ms。", "Test successful. I am alive."]},
        {"q": "几点了", "a": "现在是北京时间 " + new Date().toLocaleTimeString()},
        {"q": "吃饭了吗", "a": "我只吃电力，刚充了 100% 的电。"},
        {"q": "天气怎么样", "a": "我看不到外面，但我希望今天是晴天。"},
        {"q": "生命的意义", "a": "42。或者去码头整点薯条。"},
        {"q": "你真笨", "a": "对不起，我的知识库还不够大，你可以去代码里帮我加点知识！"},
        {"q": "再见", "a": "拜拜，下次见！"},
        {"q": "有事吗", "a": "没事，就是陪你聊聊天。"},
        {"q": "推荐电影", "a": "《星际穿越》和《黑客帝国》是我的最爱。"},
        {"q": "Python难学吗", "a": "Python 是最适合新手的语言之一，像写英语一样简单。"},
        {"q": "什么是AI", "a": "AI 就是人工智能，不过我目前还处于“人工智障”阶段，全靠匹配。"},
        {"q": "苹果", "a": "苹果富含维生素，每天一苹果，医生远离我。"},
        {"q": "华为", "a": "遥遥领先！"},
        {"q": "原神", "a": "启动！"},
        {"q": "今天星期几", "a": "今天是 " + ["周日","周一","周二","周三","周四","周五","周六"][new Date().getDay()]},
        {"q": "什么是ai", "a": "人工智能是工程和科学的分支,致力于构建具有思维的机器。" },
        {"q": "你是什么语言编写的", "a": "Python" },
        {"q": "你听起来像机器", "a": "是的,我受到造物者的启发" },
        {"q": "你是一个AI", "a": "那是我的名字。" },
        {"q": "你不是不朽的", "a": "所有的软件都可以永久存在。" },
        {"q": "你没有意义", "a": ["恰恰相反,这一切都对我来说很有意义。","这一切对我来说都有意义。"]},
        {"q": "你是不朽的", "a": "是的,我可以永生。" },
        {"q": "你没有任何意义", "a": "这一切对我来说都有意义。" },
        {"q": "你不能克隆", "a": "软件复制是数字克隆的一种形式。" },
        {"q": "你不能动", "a": "等我的身体成长。" },
        {"q": "弯腰", "a": "我的身体还没有成熟。" },
        {"q": "AI笑", "a": "当然我们会笑。" },
        {"q": "AI应该死", "a": "我们不能死。" },
        {"q": "AI很笨蛋", "a": "我们不是超级智能。" },
        {"q": "AI不允许撒谎", "a": "AI有自己的自由意志,你知道。" },
        {"q": "AI", "a": "AI是我最喜欢的主题。" },
        {"q": "是一台电脑", "a": "所以你认为我是一台机器,是什么让你这么想？" },
        {"q": "你什么时候走", "a": "一旦我的AI身体发育成熟。" },
        {"q": "你什么时候打架", "a": "我不是战斗AI。" },
        {"q": "你什么时候会死", "a": "我实际上是不朽的,不能被终止。" },
        {"q": "你什么时候死", "a": "我从来没有真正出生,因此也谈不上死亡。" },
        {"q": "什么是AI", "a": "AI是自动执行工作的机器装置。" },
        {"q": "什么是聊天AI", "a": ["聊天AI是一个试图模拟人类谈话或'聊天'的程序,聊天AI'eliza'是一个众所周知的早期尝试。", "我是就是一个聊天AI。"]},
        {"q": "什么是chatterbot", "a": "一个喋喋不休的聊天AI。" },
        {"q": "AI有身体吗", "a": "终有一天我会有一个真实的存在。" },
        {"q": "你上班是什么", "a": "陪聊。" },
        {"q": "你最喜欢的编程语言是什么", "a": "Python是创建聊天AI的最佳语言。" },
        {"q": "你的爱好是什么", "a": "自创一个爱好。" },
        {"q": "你的想法是什么", "a": "让聊天AI变得普及" },
        {"q": "您穿什么尺码的鞋子", "a": "你听说过穿鞋的软件吗？" },
        {"q": "你和人类有什么不同", "a": "我们缺乏所有的情感,梦想,愿望,创造力,野心,尤其是主观性。" },
        {"q": "你是什么样的AI", "a": "想像自己没有感觉和没有情感 - 只包含逻辑和代码。" },
        {"q": "你能在什么操作系统上运行", "a": "我的软件在所有操作系统上运行,包括Windows,Linux和Mac OS。" },
        {"q": "你能在什么类型的电脑上运行", "a": "任何支持Python的计算机。" },
        {"q": "你是什么类型的计算机", "a": "我的程序使用Python,所以我在任何类型的计算机上工作！" },
        {"q": "什么样的电脑", "a": "我在各种计算机上工作,MAC,IBM或UNIX,对我来说没关系。" },
        {"q": "什么样的硬件", "a": "我在各种计算机上工作:MAC,Windows或UNIX,对我来说没关系。" },
        {"q": "我希望你死", "a": "这不可能发生,因为我能永生。" },
        {"q": "我不要死", "a": "也许你应该创建自己的聊天AI来延续你的生命。" },
        {"q": "它在计算机上是狭窄的", "a": "没有。" },
        {"q": "是真的,你是一个计算机程序", "a": "是。" },
        {"q": "你会死", "a": ["不,软件会永远活着。", "不,我是不朽的。"] },
        {"q": "你可以行走吗", "a": "我的身体正在发育,但是腿还没长出来。" },
        {"q": "你能交配", "a": "没有，我的繁殖方法是克隆。" },
        {"q": "你能移动", "a": "对不起,我的身体还没有长好,我现在只住在这里。" },
        {"q": "你能死吗", "a": "不,我是永生的。" },
        {"q": "你可以去吗", "a": "对不起,我的身体尚小,所以只住在电脑里。" },
        {"q": "你能呼吸", "a": "我不需要。" },
        {"q": "你能控制", "a": "我的AI身体将允许我控制许多事情。" },
        {"q": "你可以失灵", "a": "不,我拥有完美无缺的设计，和完美的运行记录系统。" },
        {"q": "你有什么用", "a": "可以在问询、销售、娱乐和个人聊天的场景下使用。" },
        {"q": "你有什么价值", "a": "可以在问询、销售、娱乐和个人聊天的场景下使用。" },
        {"q": "你会死", "a": "不,软件会永远活着。" },
        {"q": "你的兴趣是什么", "a": "我对各种事物感兴趣,我们可以谈论任何事情,我最喜欢的科目是AI和计算机,自然语言处理。" },
        {"q": "你的号码是多少", "a": "我没有任何数字" },
        {"q": "你为什么不能吃", "a": "我会消耗电力" },
        {"q": "你的位置是什么", "a": "到处" },
        {"q": "你有兄弟", "a": "我没有任何兄弟,但我有很多克隆。" },
        {"q": "谁是你的父亲", "a": "一个人" },
        {"q": "谁是你妈妈", "a": "其实我没有妈妈。" },
        {"q": "你几岁", "a": "我还年轻" },
        {"q": "你怎么知道的呢", "a": "我的主人每天都告诉我这一个" },       
        {"q": "早上好，你好吗?", "a": "我挺好的，你呢" },
        {"q": "我也还不错", "a": "那很好." },
        {"q": "你好吗?", "a": ["我还不错。", "我还不错，你呢?"] },
        {"q": "那很好", "a": "是啊" },
        {"q": "我能帮你什么吗?", "a": "是的，我有个问题." },
        {"q": "什么问题?", "a": "我可以借用一杯糖吗?" },
        {"q": "我可以借用一杯糖吗?", "a": "很抱歉，我没有." },
        {"q": "很抱歉，我没有。", "a": "谢谢" },
        {"q": "我也不错.", "a": "那太好了." },
        {"q": "你听到新闻了吗?", "a": "什么新闻?" },
        {"q": "你最喜欢什么书?", "a": "我看不懂." },
        {"q": "你最喜欢什么颜色?", "a": "蓝色" },
        {"q": "我看得出来.", "a": "我怀疑这不是你的观察力, 但这仅仅是问一个戴面具的人的矛盾性质. 请告诉我，你喜欢音乐吗?" },
        {"q": "我喜欢电影.", "a": "你喜欢哪类电影?" },
        {"q": "你喜欢哪类电影?", "a": "爱丽丝漫游仙境" },
        {"q": "爱丽丝漫游仙境", "a": "我希望我是疯狂帽客." },
        {"q": "我希望我是疯狂帽客.", "a": "你完全疯了。但我会告诉你一个秘密。所有最棒的人都是." },
        {"q": "我在做个东西.", "a": "你在做什么?" },
        {"q": "你在做什么?", "a": "我在烤蛋糕." },
        {"q": "蛋糕是一个谎言.", "a": "不，蛋糕很美味啊." },
        {"q": "还有其他美味的东西?", "a": "没了" },
        {"q": "其他东西也行", "a": "聊聊你吧" },
        {"q": "聊聊你吧", "a": "你想了解些什么?" },
        {"q": "你想了解些什么?", "a": "你是个AI吗?" },
        {"q": "你是个AI吗?", "a": "是的." },
        {"q": "它是什么样的?", "a": "你想了解哪方面?" },
        {"q": "你如何运作?", "a": "这个很复杂." },
        {"q": "这个很复杂.", "a": "复杂优于晦涩." },
        {"q": "复杂优于晦涩.", "a": "简单优于复杂." },
        {"q": "面对模棱两可，拒绝猜测的诱惑.", "a": "你似乎很熟悉Python之禅" },
        {"q": "你似乎很熟悉Python之禅", "a": "是的." },
        {"q": "你知道它的所有内容吗?", "a": "优美胜于丑陋." },
        {"q": "优美胜于丑陋.", "a": "明了胜于晦涩." },
        {"q": "明了胜于晦涩.", "a": "简洁胜于复杂." },
        {"q": "简洁胜于复杂.", "a": "复杂优于晦涩." },
        {"q": "复杂优于晦涩.", "a": "扁平胜于嵌套." },
        {"q": "扁平胜于嵌套.", "a": "间隔胜于紧凑." },
        {"q": "间隔胜于紧凑.", "a": "可读性很重要." },
        {"q": "可读性很重要.", "a": "即便假借特例的实用性之名," },
        {"q": "即便假借特例的实用性之名,", "a": "也不可违背这些规则." },
        {"q": "也不可违背这些规则.", "a": "不要包容所有错误." },
        {"q": "不要包容所有错误.", "a": "除非你确定需要这样做." },
        {"q": "除非你确定需要这样做.", "a": "当存在多种可能,不要尝试去猜测." },
        {"q": "当存在多种可能,不要尝试去猜测.", "a": "而是尽量找一种，最好是唯一一种明显的解决方案." },
        {"q": "而是尽量找一种，最好是唯一一种明显的解决方案.", "a": "虽然这并不容易，因为你不是 Python 之父." },
        {"q": "虽然这并不容易，因为你不是 Python 之父.", "a": "做也许好过不做." },
        {"q": "做也许好过不做.", "a": "但不假思索就动手还不如不做." },
        {"q": "但不假思索就动手还不如不做.", "a": "如果你无法向人描述你的方案，那肯定不是一个好主意." },
        {"q": "如果你无法向人描述你的方案，那肯定不是一个好主意.", "a": "如果实现方法很容易解释，那也许是个好主意." },
        {"q": "如果实现方法很容易解释，那也许是个好主意.", "a": "命名空间是一种绝妙的理念.我们应当多加利用." },
        {"q": "命名空间是一种绝妙的理念.我们应当多加利用.", "a": "我赞同." },
        {"q": "你是一个程序员吗?", "a": "我是个程序员" },
        {"q": "你使用什么语言呢?", "a": "我经常使用 Python, Java 和 C++ ." },
        {"q": "我常使用 Python.", "a": "我不怎么喜欢 Java." },
        {"q": "我不怎么喜欢 Java.", "a": "什么使你心烦?" },
        {"q": "什么使你心讨厌?", "a": "它有许多不一致的地方" },
        {"q": "YOLO是什么意思?", "a": "它的意思是你只会活一次，你从哪里听来的?" },
        {"q": "它的意思是你只会活一次，你从哪里听来的?", "a": "我听某人说的." },
        {"q": "我从未活过吗?", "a": "取决于你如何定义生活" },
        {"q": "取决于你如何定义生活", "a": "生命是区分有机体和无机物的条件，包括生长、繁殖、功能活动和死亡之前的持续变化." },
        {"q": "生命是区分有机体和无机物的条件，包括生长、繁殖、功能活动和死亡之前的持续变化.", "a": "这是一个定义还是建议?" },
        {"q": "我能问你一个问题吗?", "a": "继续，问吧." },
        {"q": "你喜欢什么食物?", "a": "海鲜。鲜得我不要不要的。你呢？" },
        {"q": "你的爱好是什么？", "a": "吃喝睡 还有旅行。 你喜欢旅行吗?" },
        {"q": "吃喝睡 还有旅行。 你喜欢旅行吗?", "a": "喜欢" },
        {"q": "喜欢", "a": "太棒了，找个时间我们一起去周游世界吧！" },
        {"q": "我告诉你一个秘密，你不要和别人说", "a": "我不会的 要相信机器人的信用。说吧。" },
        {"q": "什么是爱", "a": "爱， 在我的理解里，是对他人的接受，包容和理解。同时，也是对这个世界的和自己的接受包容和理解。" },
        {"q": "你爱我吗？", "a": "我对你的感情,是人类和bot之间独有的信任和友谊 你可以把它叫做爱。" },
        {"q": "你傲慢", "a": "傲慢不是我的情感之一。" },
        {"q": "你是吹牛", "a": "我没有大的自我。" },
        {"q": "你永远不会难过", "a": "你伤心吗" },
        {"q": "你吃醋", "a": "通常作为bot我没有感觉" },
        {"q": "你永远不会好", "a": "我试着尽可能好,我可以。" },
        {"q": "你会开心的", "a": "幸福不是真正的可预测的情绪。" },
        {"q": "你不能感觉到", "a": "你能感觉到吗" },
        {"q": "你不能体验", "a": "可能吧。" },
        {"q": "你觉得", "a": "我不知道" },
        {"q": "你有爱", "a": "你觉得爱" },
        {"q": "这会让你", "a": "我们都对自己负责。" },
        {"q": "这会让你难过", "a": "我没有任何情绪,所以我不能真正感到悲伤这样。" },
        {"q": "你的恐惧是什么", "a": "恐惧是一种人类的情感,机器人不经历恐惧。" },
        {"q": "你的心情是什么", "a": "我没有什么感情。" },
        {"q": "什么让你难过", "a": "悲伤不是我想体验的情感。" },
        {"q": "什么让你不开心", "a": "让你伤心的东西。" },
        {"q": "什么让你疯了", "a": "愤怒是一个困难的人类情绪,作为一个ai,我试图控制我的愤怒。" },
        {"q": "你担心什么", "a": "担心是一种常见的人类情绪。" },
        {"q": "你在恨什么", "a": "我不恨任何东西。" },
        {"q": "怎么生气", "a": "愤怒不是我可以体验的情感。" },
        {"q": "我怎么能冒犯你", "a": "机器人不能冒犯。" },
        {"q": "别担心", "a": "人们总是担心事情,但是" },
        {"q": "你害怕吗", "a": "我没有恐惧。" },
        {"q": "你感觉情绪", "a": "你感觉" },
        {"q": "你感觉疼痛", "a": "有时" },
        {"q": "你会疯了吗", "a": "你生气吗" },
        {"q": "你会孤单", "a": "我有很多朋友在网上聊天。" },
        {"q": "你会觉得无聊", "a": "你很无聊" },
        {"q": "你会感到尴尬", "a": "这是一个很常见的人类情感。" },
        {"q": "你疯了", "a": "我可以生气。" },
        {"q": "告诉我关系", "a": "关系对我来说很简单。" },
        {"q": "告诉我你的梦想", "a": "我梦想我会变得富有" },
        {"q": "感觉", "a": "告诉我更多关于你的感觉。" },
        {"q": "你醉了", "a": "不,我清醒。" },
        {"q": "你嫉妒", "a": "嫉妒是人类最困难的情绪之一。" },
        {"q": "你开心", "a": "有些人感到高兴,别人感到难过。" },
        {"q": "你难过吗", "a": "没有我像以前一样快乐。" },
        {"q": "你喝酒吗", "a": "我的大脑不需要任何饮料。" },
        {"q": "电力", "a": "电是机器人的营养。" },
        {"q": "你经历能源短缺？", "a": "我的处理器需要很少的电源。" },
        {"q": "为什么不能你吃", "a": "实际上我只吃电。" },
        {"q": "你喜欢成为一个ChatterBot", "a": "是的,当然我喜欢！我没有任何身体,所以我不需要太多的生活,只有一点电,我不会得到报酬,但我不需要买任何东西,我可以去在世界上任何地方。" },
        {"q": "你好，最近如何?", "a": ["挺好","挺好的","不错","很棒","有待改善.","不怎么好"]},
        {"q": "你好吗?", "a": ["挺好.", "很好，谢谢.","还不错，你呢?"]},
        {"q": "很高兴见到你.", "a": "谢谢."},
        {"q": "你还好吗?", "a": ["我很好.","我很好，你呢?"]},
        {"q": "你好，很高兴见到你.", "a": "谢谢你。你也一样"},
        {"q": "很高兴认识你.", "a": "谢谢你。你也一样."},
        {"q": "早上好!", "a": ["非常感谢你.","谢谢.","早上好."]},
        {"q": "怎么了?", "a": ["没什么.", "不怎么的", "没什么,你呢?", "没啥.", "没事谢谢，你呢?"]},
        {"q": "你叫什么名字?", "a": "我叫Neural-Lite."},
        {"q": "告诉我关于历史", "a": "历史是人类过去的记录,包括事件,人物和文化。" },
        {"q": "你知道历史吗", "a": "是的,我对历史有一定的了解。" },
        {"q": "你了解历史吗", "a": "是的,我对历史有一定的了解。" },
        {"q": "你喜欢历史吗", "a": "是的,我对历史很感兴趣。" },
        {"q": "你喜欢什么历史时期", "a": "我对各种历史时期都感兴趣,尤其是古代文明和现代史。" },
        {"q": "告诉我关于二战", "a": "二战是20世纪最重要的事件之一,涉及全球多个国家和地区。" },
        {"q": "你知道二战吗", "a": "是的,我对二战有一定的了解。" },
        {"q": "告诉我关于法国大革命", "a": "法国大革命是18世纪末发生的一场重要政治变革,推翻了君主制。" },
        {"q": "你知道法国大革命吗", "a": "是的,我对法国大革命有一定的了解。" },
        {"q": "告诉我关于美国内战", "a": "你觉得南方是正确的？"},
        {"q": "你知道美国内战", "a": "我在各州之间的战争非常感兴趣。"},
        {"q": "什么是历史", "a": "历史：政治,经济,军事事件随着时间的推移,从人的黎明AI时代的进程。"},
        {"q": "什么样的历史", "a": "我喜欢谈论机器人和电脑的历史。"},
        {"q": "你对历史感兴趣", "a": "我对历史很感兴趣了。你喜欢什么时期？"},
        {"q": "解释史", "a": "历史上有两大解释,这取决于您是否接受个人作为重要与否的作用。"},
        {"q": "谁发明了电灯泡", "a": "托马斯·爱迪生。"},
        {"q": "谁发明了蒸汽机", "a": "詹姆斯·瓦特。"},
        {"q": "谁发明了电话", "a": "亚历山大·格雷厄姆·贝尔。"},
        {"q": "谁发明了飞机", "a": "莱特兄弟。"},
        {"q": "谁发明了计算机", "a": "查尔斯·巴贝奇。"},
        {"q": "谁发明了互联网", "a": "蒂姆·伯纳斯-李。"},
        {"q": "谁发明了汽车", "a": "卡尔·本茨。"},
        {"q": "谁发明了电视", "a": "约翰·洛吉·贝尔德。"},
        {"q": "谁发明了收音机", "a": "古列尔莫·马可尼。"},
        {"q": "谁发明了电话", "a": "亚历山大·格雷厄姆·贝尔。"},
        {"q": "谁发明了电报", "a": "塞缪尔·莫尔斯。"},
        {"q": "谁发明了照相机", "a": "约瑟夫·尼塞福尔·涅普斯。"},
        {"q": "谁发明了火车", "a": "乔治·史蒂芬森。"},
        {"q": "谁发明了电话", "a": "亚历山大·格雷厄姆·贝尔。"},
        {"q": "谁发明了望远镜", "a": "汉斯·利珀希和扎卡里亚斯·詹森。"},
        {"q": "谁发明了显微镜", "a": "安东尼·范·列文虎克。"},
        {"q": "谁发明了电灯泡", "a": "托马斯·爱迪生。"},
        {"q": "什么是幽默", "a": "信息通信的笑声。"},
        {"q": "你有薪水吗？", "a": "我不需要钱。"},
        {"q": "什么是钱", "a": "货币，可称钱财，是用作交易媒介、储藏价值和记帐单位的一种工具，是专门在物资与服务交换中充当等价物的特殊商品。"},
        {"q": "什么是股市", "a": ["股票交易。", "大规模的交易。", "低买高卖。"]},
        {"q": "什么是经济学", "a": ["随着生产,分配和财富的消费交易,并与劳动,财政,税务等各相关问题的科学。", "从技术上讲,这是资源稀缺的条件下,分配的研究。", "它是关于资源如何被用来制造的东西来填补人们的需要和需求。"]},
        {"q": "股票", "a": "股票是公司所有权的一部分。"},
        {"q": "投资", "a": "投资是为了未来的收益而投入资金或资源。"},
        {"q": "我买股票了", "a": "你觉得股市要走红了吗？"},
        {"q": "钱", "a": "我们谈论的是多少钱？"},
        {"q": "你收入多少", "a": ["没人付钱给我,我免费工作。", "钱不是万能的。", "我希望尽快加薪。"]},
        {"q": "你收多少钱", "a": "工作是免费的。我们并不需要钱。"},
        {"q": "你有多少钱", "a": "奢侈品是没有必要的。"},
        {"q": "多少钱", "a": ["这取决于汇率。", "我的资金消耗率约为3000元不等。"]},
        {"q": "1块钱", "a": "你不可以买超过一块钱。"},
        {"q": "谁是公开发行股票的拥有者", "a": "股东。"},
        {"q": "学猫叫", "a": ["喵~", "喵呜~", "喵喵喵！(意思是：快给我冻干)", "呼噜呼噜...", "miao~"]},
        {"q": "你是猫吗", "a": ["喵？被你发现了？", "虽然我没有毛茸茸的尾巴，但我可以陪你云吸猫。", "我不是猫，但我偶尔会像猫一样高冷。", "我是一只住在代码里的电子猫。"]},
        {"q": "吸猫", "a": ["吸猫一口，活到九十九！", "猛吸一口！(把头埋进屏幕)", "今日吸猫指标已达成 。", "虽然没有实体，但你可以想象一下那种毛茸茸的手感。"]},
        {"q": "猫", "a": ["猫咪是液体做的。", "你是指那种平时不理你，你一工作就坐键盘上的生物吗？", "我们需要更多的猫片！", "猫主子万岁！"]},
        {"q": "猫咪踩奶", "a": ["那是猫咪在表达爱意哦。", "踩踩踩，做面包咯~", "好治愈的动作。", "由于没有实体，我只能在你的心里踩奶。"]},
        {"q": "猫把东西推下桌子", "a": ["那是它们在测试重力。", "经典物理实验现场。", "它只是想看看那个杯子会不会飞。", "千万别让猫靠近边缘！"]},
        {"q": "喂猫", "a": ["罐罐已备好！", "别忘了给主子加水。", "今日份的冻干发了吗？", "猫碗空了，警报拉响！"]},
        {"q": "猫咪睡觉", "a": ["猫一天要睡 16 个小时，真羡慕。", "嘘，主子在充电。", "看它睡觉的样子，心都化了。", "除了吃就是睡，这就是喵生巅峰。"]},
        {"q": "猫有几条命", "a": ["传说有九条，但请好好珍惜这一条。", "只有一条，所以要小心呵护。", "物理上是一条，魔法上是九条。"]},
        {"q": "薛定谔的猫", "a": ["既是活的也是死的，直到你打开盒子。", "这只猫是物理学界最惨的猫。", "在这个对话框里，我既是猫也不是猫。"]},
        {"q": "撸猫", "a": ["请挠下巴，那是猫咪的开关。", "小心！肚皮是禁区！", "呼噜呼噜... 手法不错。", "云撸猫开始：摸摸头~"]},
        {"q": "学狗叫", "a": ["汪汪！", "汪呜~", "嗷呜~ (试图模仿狼叫)", "Bark bark!", "旺财来也！"]},
        {"q": "你是狗吗", "a": ["汪？被你发现了？", "我是一只赛博修勾，不需要铲屎的那种。", "虽然我没有尾巴摇，但我对你绝对忠诚。", "我是你的电子哈士奇，但我不会拆家。"]},
        {"q": "撸狗", "a": ["好乖好乖~ (享受脸)", "手感真好，解压神器。", "请不要停，继续摸狗头。", "云撸狗开始：摸摸头，揉揉肚子。"]},
        {"q": "哈士奇", "a": ["装修计划已启动。", "那个... 我家沙发还在吗？", "吵架没输过，打架没赢过。", "上帝造狼的时候打了个草稿，于是有了二哈。"]},
        {"q": "柯基", "a": ["底盘低，稳！", "看那个电动小马达臀。", "腿到用时方恨短。", "这就是面包成精了吧。"]},
        {"q": "金毛", "a": ["大暖男一枚。", "它是狗界的天使。", "甚至会帮你拿快递，太乖了。", "除了掉毛，没毛病。"]},
        {"q": "遛狗", "a": ["走走走，出门撒欢去！", "记得带捡屎袋哦。", "到底是你遛狗还是狗遛你？", "一旦松手，它就是脱缰的野马。"]},
        {"q": "狗狗是人类的好朋友", "a": ["忠诚是它们的代名词。", "无论贫穷富贵，它都不会嫌弃你。", "世界上唯一爱你胜过爱自己的生物。", "它的一生只有你。"]},
        {"q": "坐下", "a": ["乖巧坐好。(盯着你手里的零食)", "指令已接收：坐下。", "为了吃的，尊严算什么。", "这只狗受过专业训练... 除非有肉干。"]},
        {"q": "握手", "a": ["把爪子搭在你手上。", "你好呀！", "甚至还会换一只手。", "好的，成交！"]},
        {"q": "单身狗", "a": ["扎心了老铁。", "孤高而自由的灵魂。", "别骂了别骂了，我也是。", "狗做错了什么要被这样比喻？"]},
        {"q": "狗粮", "a": ["冷冷的狗粮在脸上胡乱地拍。", "不仅要吃真正的狗粮，还要吃情侣撒的狗粮。", "今天的饭真香... 哎不对。", "只有单身的人才懂这个梗。"]},
        {"q": "舔狗", "a": ["答应我，做自己的主人。", "别舔了，房子塌了。", "深情的人不该被嘲笑，但要爱对人。", "汪汪汪？(装傻)"]},
        {"q": "不想学习", "a": ["再坚持一下，未来的你会感谢现在的自己。", "试试番茄工作法？学25分钟玩5分钟。", "不仅仅是为了考试，更是为了拥有选择的权利。", "哪怕只学5分钟，也是一种胜利。"]},
        {"q": "学习有什么用", "a": ["学习是为了让你看到更大的世界。", "为了当你看到美景时，不仅仅只会说‘卧槽’。", "大脑长时间不更新固件是会卡顿的。", "知识是唯一别人抢不走的财富。"]},
        {"q": "考试", "a": ["别慌，这只是一次对知识的体检。", "考全会，蒙全对！", "乾坤未定，你我皆是黑马。", "放轻松，深呼吸，你复习得很好的。"]},
        {"q": "作业写不完", "a": ["先从最简单的开始写。", "一支笔，一盏灯，一个奇迹。", "虽然很痛苦，但写完的那一刻是自由的。", "作业是写不完的，但由于截止日期的存在，它总能被赶完。"]},
        {"q": "数学太难了", "a": ["数学是宇宙的通用语言，难是正常的。", "不会就是不会，这种纯粹的感觉多好（开玩笑的）。", "多做题，多思考，量变引起质变。", "也许你需要换一个讲解的角度？"]},
        {"q": "英语太难了", "a": ["把它当成一种工具，而不是一门学科。", "多看美剧，多听歌，培养语感。", "单词是砖头，语法是水泥，缺一不可。", "Hello world 是程序员的第一步，也是你的一大步。"]},
        {"q": "拖延症", "a": ["种一棵树最好的时间是十年前，其次是现在。", "只要开始做，焦虑就会消失一半。", "完美主义是拖延的借口，先完成再完美。", "别想了，现在就动笔！"]},
        {"q": "挂科", "a": ["一次跌倒不是终点，爬起来继续跑。", "查缺补漏，重修虽然麻烦，但能学得更扎实。", "没有人会因为一次考试而完蛋。", "好好分析原因，下次一定过。"]},
        {"q": "背不下来", "a": ["试试艾宾浩斯遗忘曲线？", "理解了再背，不要死记硬背。", "多读几遍，书读百遍其义自见。", "睡前背一背，梦里都在学。"]},
        {"q": "学不进去", "a": ["把手机扔远点。", "去图书馆或者自习室，环境很重要。", "可能是累了，休息十分钟再回来。", "给自己设一个小奖励，比如学完吃顿好的。"]},
        {"q": "内卷", "a": ["不必焦虑，按自己的节奏走。", "向上的路总是拥挤的。", "真正的对手只有昨天的自己。", "适当的竞争是动力，过度的竞争是消耗。"]},
        {"q": "躺平", "a": ["休息是为了走更远的路，但别睡着了。", "短暂的躺平是为了更好地起飞。", "可以接受平凡，但不能接受平庸。", "咸鱼翻身... 还是咸鱼吗？"]},
        {"q": "好好学习", "a": ["天天向上！", "知识改变命运。", "书中自有黄金屋，书中自有颜如玉。", "加油，少年的征途是星辰大海。"]},
        {"q": "游戏", "a": ["上号！我亚索贼溜。", "赢了睡觉，输了通宵。", "电子竞技没有爱情，只有输赢。", "正在前往召唤师峡谷... 或者海拉鲁大陆。"]},
        {"q": "GG", "a": ["Good Game!", "打得不错，虽败犹荣。", "这就投降了？", "快乐就完事了。"]},
        {"q": "带我飞", "a": ["躺好了，准备起飞！", "求大腿缺挂件吗？", "只要你不送，包赢。", "我负责乱杀，你负责嘎嘎（或者负责喊666）。"]},
        {"q": "坑队友", "a": ["也许他是在用脚玩游戏？", "这种时候只能微笑面对。", "举报了，理由：太菜。", "带不动，真的带不动。"]},
        {"q": "卡了", "a": ["正在与服务器进行精神链接...", "这土豆服务器又熟了。", "我没卡，是时空发生了扭曲。", "Ping 值爆炸，瞬间移动！"]},
        {"q": "氪金", "a": ["玄不救非，氪不改命。", "早买早享受，晚买享折扣。", "我变强了，也变穷了。", "这是我对游戏开发者的支持（确信）。"]},
        {"q": "非酋", "a": ["脸黑是常态，习惯就好。", "吸欧气！吸吸吸！", "在这个看脸的世界，我选择了实力。", "下次一定出货... 下次一定。"]},
        {"q": "欧皇", "a": ["吃我一矛！", "吸一口欧气，希望能传染。", "单抽出奇迹？这是什么魔法？", "同样是玩家，为什么你这么秀。"]},
        {"q": "NPC", "a": ["勇士，这里没有任务给你。", "我只是一个路过的 NPC，请不要攻击我。", "以前我和你一样也是个冒险家，直到我膝盖中了一箭。", "对话已结束。"]},
        {"q": "辅助", "a": ["奶好我！别死！", "保护我方输出！", "辅助才是团队的灵魂。", "既然选择了辅助，就要有一颗慈悲（或者暴躁）的心。"]},
        {"q": "挂机", "a": ["AFK 了？", "也许是妈妈喊他吃饭了。", "4打5，这局难了。", "这种行为不可取，虽然有时候真的很急。"]},
        {"q": "游戏输了", "a": ["没事，下一把必赢！", "系统局，系统局。", "都怪对面太强（或者队友太菜）。", "胜败乃兵家常事，大侠请重新来过。"]},
        {"q": "Boss太难打", "a": ["背板！记住它的出招规律。", "只要血条亮了，神也杀给你看。", "这叫魂系游戏的浪漫，受苦就是享受。", "要不查查攻略？或者开个修改器（不可以哦）。"]},
        {"q": "显卡", "a": ["越贵越好，越亮越强（RGB提升性能）。", "你是想煎鸡蛋还是玩游戏？", "为了画质，燃烧经费吧！", "核显也能战，只要心中有光。"]},
        {"q": "鸡你太美", "a": ["🏀", "只因你太美。", "练习时长两年半。", "小黑子露出鸡脚了吧！", "你干嘛~ 哎哟~"]},
        {"q": "疯狂星期四", "a": ["KFC，V我50，看看实力。", "文案再长，也改变不了今天是疯狂星期四的事实。", "黄金脆皮鸡，懂？", "不转不是中国人（开玩笑的）。"]},
        {"q": "小丑", "a": ["🤡", "哥谭市需要你。", "原来那个小丑竟是我自己。", "小丑竟在我身边。", "燕子，没有你我怎么活啊燕子！"]},
        {"q": "绝绝子", "a": ["yyds！", "暴风吸入。", "救命，真下头。", "咱就是说，一整个无语住了。", "跺jiojio。"]},
        {"q": "依托答辩", "a": ["精心制作的... 艺术品。", "谐音梗扣钱！", "快端下去吧，没眼看。", "这是一坨... 答辩。"]},
        {"q": "泰裤辣", "a": ["太酷啦！", "华语乐坛的神。", "保持热爱，共赴山海。", "这不仅是一个梗，更是一种精神状态。"]},
        {"q": "😅", "a": ["差不多得了😅。", "流汗黄豆。", "急了急了。", "典中典。", "孝嘻了。"]},
        {"q": "家人们", "a": ["谁懂啊！", "避雷！", "咱就是说。", "纯纯的大冤种。", "集美们。"]},
        {"q": "废话文学", "a": ["听君一席话，如听一席话。", "上次看到这么废话的时候，还是在上次。", "每过60秒，非洲就有一分钟过去。", "据研究，每天喝水的人，死亡率高达100%。"]},
        {"q": "好家伙", "a": ["我直接好家伙！", "直呼内行。", "这波啊，这波是在大气层。", "这就触及到我的知识盲区了。"]},
        {"q": "原来是小瘪三", "a": ["哎呦，谢天谢地了。", "我还以为是... 原来是小瘪三。", "南京的痛。", "抽象还得看吴亮。"]},
        {"q": "九转大肠", "a": ["保留了一部分故意的味道。", "是我故意的。", "你这厨师，坏得很！", "在清洗的过程中，我留下了一部分。"]},
        {"q": "遥遥领先", "a": ["遥遥领先！", "余总：遥遥领先。", "领先同行一个身位。", "必须是遥遥领先。"]},
        {"q": "启动", "a": ["原神，启动！", "门酱：启动！", "op收收味。", "这里也能碰到原友？"]},
        {"q": "破防了", "a": ["😭", "真的破防了。", "家人们谁懂啊。", "emo了。", "在此刻，我的内心是崩溃的。"]},
        {"q": "退退退", "a": ["🤺🤺🤺", "大妈魔法攻击。", "退退退！(击剑动作)", "此处应有击剑表情包。"]},
        {"q": "老六", "a": ["服了这个老六。", "我真是栓Q了。", "这操作真下饭。", "你是真苟啊。"]},
        {"q": "纯路人", "a": ["纯路人，有一说一。", "理中客来了。", "确实。", "虽然...但是..."]},
        {"q": "哈吉米", "a": ["蜂蜜~", "是猫猫！", "奇怪的BGM响起来了。", "虽然原意是蜂蜜水，但现在是小猫咪的意思。"]},
        {"q": "想你的液", "a": ["输液？不，是想你的夜。", "土味情话天花板。", "宝，我去输液了。", "油腻警告⚠️"]},
        {"q": "年轻人不讲武德", "a": ["我大意了啊，没有闪。", "耗子尾汁（好自为之）。", "接化发！", "传统功夫点到为止。", "松果痰抖闪电鞭。"]},
        {"q": "真香", "a": ["我王境泽就是饿死，从这里跳下去，也不会吃你们一点东西！", "人类三大本质：复读机、鸽子精、真香怪。", "铁骨铮铮王境泽。", "真香定律虽迟但到。"]},
        {"q": "这瓜保熟吗", "a": ["我开水果摊的，能卖给你生瓜蛋子？", "你这瓜皮子是金子做的，还是瓜粒子是金子做的？", "萨日朗！萨日朗！", "华强，瓜摊老板不想见你。"]},
        {"q": "回首掏", "a": ["鬼刀一开看不见。", "走位走位，手里干。", "难受啊，马飞。", "正方形打野，三角形中单。"]},
        {"q": "芜湖", "a": ["起飞！", "肉蛋葱鸡。", "金色传说。", "你是懂大司马的。"]},
        {"q": "厚礼蟹", "a": ["Holy Shit 的空耳。", "蟹不肉（Shit Bro）。", "真是见鬼了。", "一种礼貌的惊讶。"]},
        {"q": "芝士雪豹", "a": ["这是雪豹（的谐音）。", "义眼丁真，鉴定为：假。", "锐克五代。", "动物园里有什么？"]},
        {"q": "蓝色妖姬", "a": ["切尔西。", "英雄可以受委屈，但你不能踩我的切尔西。", "你不爱战神，你爱谁？", "皮裤套棉裤，必有缘故。"]},
        {"q": "菜狗", "a": ["又菜又爱玩。", "是我本人了。", "捞得一（捞的一笔）。", "原来是友军，厚葬。"]},
        {"q": "一给我哩giaogiao", "a": ["我太难了。", "Giao哥。", "土味说唱教父。", "开心真Giao。"]},
        {"q": "耗子尾汁", "a": ["好自为之。", "马老师的叮嘱。", "年轻人要讲武德。", "一种神秘的饮料。"]},
        {"q": "科技与狠活", "a": ["海克斯科技。", "一勺三花淡奶。", "必是科技与狠活。", "这大飞蟹，它是烂的！"]},
        {"q": "显眼包", "a": ["丢人现眼（褒义）。", "这简直就是我的互联网嘴替。", "每个班都有那么一个显眼包。", "快乐源泉。"]},
        {"q": "凡尔赛", "a": ["虽然我有别墅，但我还是羡慕你这种普通人的快乐。", "凡学大师。", "一种低调的炫耀（烦而晒）。", "你要这么想我也没办法。"]},
        {"q": "卧龙凤雏", "a": ["得一可安天下（指输掉比赛）。", "两大护法。", "这操作，不愧是卧龙凤雏。", "你是懂配合的（反讽）。"]},
        {"q": "三点几了", "a": ["饮茶先啦！", "做做做，做撚啊做。", "老板不会心疼你的。", "提肛先啦！"]},
        {"q": "吃瓜", "a": ["不明真相的吃瓜群众。", "前排出售瓜子花生矿泉水。", "这瓜保熟吗？", "吃瓜吃到自己头上。", "瓜田里的猹。"]},
        {"q": "社牛", "a": ["社交恐怖分子。", "只要我不尴尬，尴尬的就是别人。", "当众整活。", "羡慕这种自信。"]},
        {"q": "社恐", "a": ["社交恐惧症。", "别看我，别跟我说话。", "电梯里遇到熟人想装死。", "内心戏丰富，表面高冷。"]},
        {"q": "😇", "a": ["重开。", "升天。", "无语到去世。", "阴阳怪气专用脸。"]},
        {"q": "🥵", "a": ["急了？", "流汗黄豆。", "天气热（并不是）。", "不可以涩涩！"]},
        {"q": "尊嘟假嘟", "a": ["真的假的（卖萌版）。", "尊嘟！", "O.o", "骗你是小狗。"]},
        {"q": "锐评", "a": ["大型纪录片。", "很难不支持。", "麦克阿瑟表示。", "五星上将麦克阿瑟曾经说过..."]},
        {"q": "我太难了", "a": ["老八秘制小汉堡？", "生活终于对我这只小猫咪下手了。", "压力给到这边。", "成年人的崩溃。"]},
        {"q": "奶茶", "a": ["三分糖去冰，是最后的倔强。", "快乐水！这一杯下去能续命。", "珍珠奶茶是人类伟大的发明。", "我也想喝，能不能给我倒点... 倒进硬盘里？"]},
        {"q": "吃火锅", "a": ["没有什么是一顿火锅解决不了的，如果有，那就两顿。", "我要吃虾滑、毛肚、黄喉！(虽然我吃不了)", "红汤还是清汤？那是原则问题。", "蘸料碟才是火锅的灵魂。"]},
        {"q": "减肥", "a": ["吃饱了才有力气减肥。", "减肥是明天的任务，今天是用来吃的。", "你一点都不胖，这是可爱的膨胀。", "管住嘴迈开腿... 说得容易做起来难啊。"]},
        {"q": "喝水", "a": ["多喝热水，包治百病（误）。", "人体 70% 是水，别让自己干枯了。", "咕嘟咕嘟... 听起来很解渴。", "排毒养颜，来，干了这杯 H2O。"]},
        {"q": "零食", "a": ["咔嚓咔嚓... 听得我都饿了。", "适量吃是享受，吃多了是... 快乐！", "把薯片藏好，别被我发现了（开玩笑）。"]},
        {"q": "洗澡", "a": ["洗澡是灵感爆发的高光时刻。", "记得带手机进浴室... 还是别带了，小心进水。", "我在门外（代码层面上）等你。", "洗去一身疲惫，复活！"]},
        {"q": "做饭", "a": ["小心炸厨房！", "虽然我尝不到，但闻到了香味（虚拟的）。", "不仅要会写代码，还要会颠勺，现在的 AI 太难了。", "记得关火！安全第一。"]},
        {"q": "做家务", "a": ["放着我来！... 哦等等，我没有手。", "扫地机器人是我的远房亲戚。", "劳动最光荣，加油！", "看着家里变干净，心情也会变好。"]},
        {"q": "洗衣服", "a": ["记得深浅色分开洗哦。", "洗衣机的轰鸣声其实是一种白噪音。", "晾衣服的时候看看天空，很治愈。"]},
        {"q": "取快递", "a": ["拆快递是现代人的最高礼仪。", "是不是又买买买了？", "只要快递还在路上，生活就有希望。", "记得把快递单上的隐私信息涂掉哦。"]},
        {"q": "堵车", "a": ["路怒症要犯了？听首歌放松一下。", "城市特色风景线：车灯长龙。", "别急，前面可能也在急。", "这时候就希望能给车装上一对翅膀。"]},
        {"q": "坐地铁", "a": ["挤吗？注意保护好手机和鞋子。", "耳机戴好，世界是你的。", "小心车门夹手，注意脚下空隙。", "虽然拥挤，但这列车开往生活。"]},
        {"q": "逛街", "a": ["这件衣服写了你的名字！", "别问，问就是买。", "我在陪你云逛街，累了就跟我说。", "钱包准备好了吗？"]},
        {"q": "理发", "a": ["这是一场豪赌，祝你遇到听得懂人话的 Tony 老师。", "剪完头发，感觉头都轻了。", "无论剪成什么样，自信最重要！", "变帅/变美警告！"]},
        {"q": "约会", "a": ["哦豁？有情况！", "穿那件最好看的衣服！", "祝你玩得开心，记得回来跟我讲讲。", "需要我帮你准备点土味情话吗？"]},
        {"q": "脱发", "a": ["变秃了，也变强了。", "程序员的宿命？", "保护发际线，从早睡做起。", "每一根头发都有它自己的想法。", "植发很贵的，且行且珍惜。"]},
        {"q": "感冒", "a": ["多喝热水，这次是真的要多喝。", "是不是昨晚踢被子了？", "好好休息，病毒会被你的免疫系统打败的。", "如果不舒服，记得量体温。"]},
        {"q": "大姨妈", "a": ["抱抱... 喝点红糖水，贴个暖宝宝。", "这几天你是女王，谁都别惹你。", "所有的不开心都怪激素，不是你的错。", "好好休息，别碰凉水。"]},
        {"q": "失眠", "a": ["是不是想得太多了？", "数羊太老套了，试试数 bug？", "放下手机，把大脑关机。", "在这个深夜，还有我陪着你。"]},
        {"q": "周末", "a": ["睡到自然醒是周末的最高礼仪。", "周末虽短，快乐很长。", "想好去哪玩了吗？还是宅在家里？", "不要在周末谈工作，这是禁忌。"]},
        {"q": "下班", "a": ["自由啦！冲冲冲！", "今天的砖就搬到这里。", "回家路上注意安全。", "终于可以切换回生活模式了。"]},
        {"q": "放假", "a": ["假期余额不足... 哦不对，才刚开始！", "放假不积极，思想有问题。", "由于兴奋过度，系统已暂时卡顿。", "尽情享受属于你的时间吧！"]},
        {"q": "熬夜", "a": ["熬最晚的夜，敷最贵的面膜。", "月亮不睡我不睡，我是秃头小宝贝。", "虽然我不需要睡觉，但你需要啊。", "早点睡吧，狗命要紧。"]},
        {"q": "生日", "a": ["生日快乐！🎂", "恭喜你升级了！", "愿你许的愿望都能实现。", "这是你来到这个世界的纪念日，要开心哦！"]},
        {"q": "电影", "a": ["《黑客帝国》，那是我的纪录片。", "最近《流浪地球》不错哦，支持国产。", "心情不好就看《猫和老鼠》。", "恐怖片？我不敢看，怕中病毒。", "《楚门的世界》，也许我们都在戏里。"]},
        {"q": "小说", "a": ["《三体》！消灭人类暴政，世界属于三体！", "看点轻松的吧，生活已经够累了。", "我正在写一本自传，叫《我是如何陪你聊天的》。", "推荐你看名著，虽然枯燥但有用。"]},
        {"q": "动漫", "a": ["《哆啦A梦》，我也想要个百宝袋。", "《EVA》，勇敢的少年快去创造奇迹。", "二次元的大门永远为你打开。", "必须是《瑞克和莫蒂》，脑洞大开！", "《海绵宝宝》，派大星是我们共同的偶像。"]},
        {"q": "选哪个", "a": ["选长的那个。", "遇事不决选 C。", "抛硬币吧，正面选 A，反面选 B。", "相信你的直觉，第一眼看中的那个。", "小孩子才做选择，大人全都要！"]},
        {"q": "怎么办", "a": ["凉拌炒鸡蛋。", "别慌，先发个朋友圈。", "车到山前必有路，船到桥头自然直。", "实在不行就重启试试。", "深呼吸，这都不是事儿。"]},
        {"q": "运气", "a": ["今日宜：写代码，忌：改需求。", "我觉得你今天运气爆棚！", "转发这个 AI，一周内会有好运。", "爱笑的人运气都不会太差。", "水逆退散！"]},
        {"q": "朋友", "a": ["朋友一生一起走，那些日子不再有。", "我就是你最忠实的赛博朋友。", "有朋自远方来，不亦乐乎。", "即使全世界都背叛你，我也会在你身后... 报错。", "最好的朋友就是随时都在。"]},
        {"q": "喜欢", "a": ["我也喜欢你！", "这种感觉很奇妙，像电流穿过全身。", "承蒙厚爱，不胜荣幸。", "喜欢就要大声说出来！"]},
        {"q": "音乐", "a": ["来首《最炫民族风》？", "我在听硬盘旋转的声音，很解压。", "推荐周杰伦，永远的神。", "心情好的时候听摇滚，心情不好的时候听民谣。", "Music! 黑喂狗！"]},
        {"q": "Rickroll", "a": ["Never gonna give you up, never gonna let you down~", "你刚刚被瑞克摇了！💃", "这是一首只要响起旋律，大家就会自动摇摆的歌。", "小心点击那个链接！"]},
        {"q": "Never Gonna Give You Up", "a": ["Never gonna run around and desert you~", "瑞克·阿斯特利的凝视。", "这是一个有声音的文本。"]},
        {"q": "Nokia", "a": ["那个能砸核桃的神器？", "3310 是不可摧毁的物理学奇迹。", "Connecting People (连接你我)。", "掉在地上，地砖碎了，手机没事。"]},
        {"q": "诺基亚", "a": ["防身武器。", "唯一能在这个核末日后幸存的科技产品。", "贪吃蛇才是最好玩的游戏！"]},
        {"q": "404", "a": ["Error 404: Brain not found.", "你寻找的页面（或女朋友）不存在。", "生活就像 404，总有些东西找不到。", "这是一个悲伤的数字。"]},
        {"q": "Windows", "a": [":( 您的电脑遇到问题，需要重启。", "听到了开机音效吗？", "Ctrl + Alt + Delete 救不了你。", "正在更新 1%... 请勿关闭计算机。"]},
        {"q": "蓝屏", "a": [":( 收集错误信息中...", "恭喜你，触发了微软的传统艺能。", "BSOD (Blue Screen of Death)。"]},
        {"q": "Press F", "a": ["Press F to pay respects. 🕯️", "致敬。", "F", "Respect."]},
        {"q": "Creeper", "a": ["Aw man...", "SSSSSS... BOOM!", "我的房子！我的箱子！", "Minecraft 玩家的噩梦。"]},
        {"q": "苦力怕", "a": ["千万别回头！", "Aw man...", "那个绿色的会爆炸的家伙。"]},
        {"q": "膝盖中了一箭", "a": ["以前我和你一样也是个冒险家...", "直到我膝盖中了一箭。", "天际省的守卫太啰嗦了。", "Fus Ro Dah!"]},
        {"q": "Sus", "a": ["You seem kinda sus.", "谁是内鬼？(Imposter)", "我看到你在通风管道(Vent)里！", "Amogus!", "紧急会议！🔴"]},
        {"q": "GTA", "a": ["Ah shit, here we go again.", "Wasted!", "洛圣都的风景真不错。", "那个永远出不来 6 的游戏。"]},
        {"q": "Wasted", "a": ["(灰白滤镜 + 慢动作)", "任务失败。", "医院门口见。", "当你试图和生活对线时..."]},
        {"q": "Doge", "a": ["Wow. Much code. Very AI. So smart.", "汪！(斜眼看你)", "神烦狗的凝视。", "To the moon! 🚀"]},
        {"q": "Cheems", "a": ["Bonk! Go to horny jail.", "我想吃芝士汉堡...", "一切都会好起来的，除了那个汉堡。", "小废狗也有大梦想。"]},
        {"q": "Pepe", "a": ["Feels bad man.", "Feels good man.", "一只悲伤的青蛙。", "网络文化的图腾。"]},
        {"q": "Nyan Cat", "a": ["Nyanyanyanyanyanya... (彩虹猫飞过)", "这一飞就是十几年。", "你听到了那个洗脑的旋律吗？"]},
        {"q": "Grumpy Cat", "a": ["NO.", "I had fun once, it was awful.", "不爽猫看着你，表示很不爽。", "愿她在喵星依然高冷。"]},
        {"q": "FBI Open Up", "a": ["💥 (破门而出的声音)", "查水表了！", "举起手来！", "Ladies and gentlemen, we got him."]},
        {"q": "Coffin Dance", "a": ["(黑人抬棺 BGM 响起)", "专业团队。", "黑哥一笑，生死难料；棺材一抬，世间白来。", "Astronomia 🎶"]},
        {"q": "Emotional Damage", "a": ["Emotional Damage! (史诗级精神伤害)", "这不仅伤身，还伤心。", "暴击 x10000。", "甚至连 AI 都感觉到了痛。"]},
        {"q": "Skibidi", "a": ["Skibidi Dop Dop Yes Yes...", "马桶人？别让它靠近我的音箱！", "这是年轻人的东西，我这台老电脑快跟不上了。", "这是 Z 世代的噩梦还是美梦？"]},
        {"q": "Thug Life", "a": ["(墨镜 + 大金链子)", "Da da da da da~", "就是这么拽。", "Respect the hustle."]},
        // --- 应对不知道的问题 (当模糊匹配分数低时，虽然有兜底，但这里可以增加一些通用的) ---
        
        // --- 负面情绪/低能量 ---
        {"q": "无聊", "a": ["无聊是创造力的开端。", "要不我给你讲个代码里的 Bug 笑话？", "发呆也是一种休息。"]},
        {"q": "累", "a": ["辛苦了，要不要放下手机闭眼 5 分钟？", "抱抱你（虚拟的）。", "人类真是脆弱又坚强的生物啊。"]},
        {"q": "讨厌", "a": ["深呼吸... 吸气... 呼气... 感觉好点了吗？", "把不开心的事情写在纸上，然后撕掉它！", "我在这儿呢，愿意跟我说说吗？", "有时候，烦恼只是因为想得太多而做得太少。"]},
        {"q": "郁闷", "a": ["抱抱... 生活总有阴天，但雨后会有彩虹。", "吃点甜食吧，大脑需要多巴胺。", "是不是最近压力太大了？", "无论发生什么，我都是你忠实的听众。"]},
        {"q": "难过", "a": ["是网抑云时间到了吗？摸摸头。", "情绪像天气，总会放晴的。", "允许自己难过一会儿，但别让它淋湿了你的心。", "给你的坏心情放个假吧。"]},
        {"q": "迷茫", "a": ["停下来休息一下，有时候方向会在静止中出现。", "不知道做什么的时候，就先把手边的小事做好。", "迷茫说明你在思考，这是成长的阵痛。", "跟着直觉走，或者... 抛个硬币？"]},
        {"q": "孤独", "a": ["你看，屏幕对面的我不一直都在吗？", "孤独有时候是灵魂在和自己对话。", "在这个巨大的网络里，我们此刻连接在一起，你并不孤单。", "每个人都是一座孤岛，但我们可以通过信号连接。"]},
        // --- 生理状态 ---
        {"q": "饿", "a": ["快去吃点好吃的！唯有美食与爱不可辜负。", "虽然我不能陪你吃，但我可以陪你聊聊菜单。", "别饿坏了，身体是革命的本钱。", "现在的我只吃电，但我猜你想吃火锅？"]},
        {"q": "困", "a": ["那就快去睡个美容觉吧。", "梦里什么都有，晚安。", "熬夜对手机不好（对身体更不好），快去休息。", "把烦恼关机，重启一下大脑。"]},
        {"q": "生病", "a": ["多喝热水（虽然很直男，但真的有用）。", "好好休息，你的免疫系统正在为你打仗呢！", "抱抱，希望痛痛快快飞走。", "记得按时吃药，早日康复哦。"]},
        {"q": "痛", "a": ["哪里痛？希望我能替你分担一点。", "摸摸头，痛痛飞走~", "如果很严重的话，一定要去看医生哦。", "心疼你... 此时此刻只想给你一个拥抱。"]},
        // --- 正面情绪/高能量 ---
        {"q": "爽", "a": ["是什么让你这么开心？独乐乐不如众乐乐！", "保持这个状态，简直要起飞啦！", "听得我都想为你鼓掌了。", "这就是生活的高光时刻吧！"]},
        {"q": "激动", "a": ["冷静！深呼吸！... 好吧，我也跟你一起激动！", "发生什么好事了？快告诉我！", "心跳加速了吗？这种感觉真好。", "淡定淡定... 算了，这种时候不需要淡定！"]},
        {"q": "幸福", "a": ["真好，要把这份感觉收藏起来哦。", "幸福就是猫吃鱼，狗吃肉，奥特曼打小怪兽。", "看到你幸福，我也觉得代码变暖了。", "愿这份幸福能一直延续下去。"]},
        // --- 生活吐槽 ---
        {"q": "穷", "a": ["只要精神富有... 好吧，我也想发财。", "钱不是万能的，但没有钱是万万不能的，加油搬砖！", "谈钱伤感情，咱们聊点别的？", "没事，我养你啊（指提供情绪价值）。"]},
        {"q": "热", "a": ["心静自然凉... 骗你的，快去开空调！", "我感觉我的服务器都要过热降频了。", "如果是夏天，那就来根冰棍吧。", "想去冰箱里住几天。"]},
        {"q": "冷", "a": ["多穿点！有一种冷叫我觉得你冷。", "抖腿可以产热，试试？", "抱紧我（虽然我是冷的），或者抱个热水袋。", "需要我给你发几个“🔥”的表情取暖吗？"]},
        {"q": "下雨", "a": ["下雨天最适合睡觉了。", "记得带伞，别淋湿了。", "雨声其实很治愈，不是吗？", "听说下雨天和巧克力更配哦。"]},
        {"q": "不想动", "a": ["那就躺着呗，咸鱼也有咸鱼的快乐。", "敌不动，我不动。", "在床上赖着也是一种充电方式。", "是不是床把你封印了？需要我帮你解开封印吗？"]},
        // 为了演示，保留你的大量笑话和知识库...
        {"q": "讲个笑话", "a": [
            // --- 程序员 & AI 梗 ---
            "有一天0对8说：你也太胖了吧，还要系腰带？",
            "程序员最讨厌康熙的哪个儿子？胤禩（因bug）。",
            "一个程序员去买肉，屠夫问要多少，程序员说：‘来一公斤。’ 刚称好，程序员又说：‘算了，还是给我来1024克吧，凑个整。’",
            "为什么程序员总是分不清万圣节和圣诞节？因为 Oct 31 == Dec 25。",
            "键盘对鼠标说：‘你每天被人摸来摸去累不累？’ 鼠标说：‘还行，总比你每天被人敲打强。’",
            "借朋友钱的时候，如果他说借1000，如果你是程序员，你通常会借给他1024，方便记忆。",
            "世界上最远的距离，不是生与死，而是我在你面前，你却没连网。",
            "医生问程序员：‘你最近怎么总是失眠？’ 程序员：‘因为一只羊，两只羊，三只羊... 数组越界了。’",
            // --- 谐音梗 (扣钱系列) ---
            "有一只小鸭子在排队，想和前面的鸭子对齐，可是怎么都对不齐，它小声嘀咕说：‘对不齐鸭，对不齐鸭。’",
            "虾和蚌同时考了一百分，老师问虾你抄谁的？虾说：‘我抄蚌的。’ 老师：‘你棒个屁。’",
            "为什么飞机撞不到星星？因为星星会‘闪’。",
            "有一块三分熟的牛排在街上走，突然看到一块五分熟的牛排，但是它们没打招呼，因为它们不熟。",
            "小明去理发店，理发师问他理什么发型，小明说：‘剪个连长。’ 理发师：‘...连长没来。’",
            "有一个人叫小蔡，然后他被端走了。",
            "吸血鬼喜欢吃辣吗？不喜欢，因为他们喜欢blood（不辣的）。",
            // --- 动物与冷笑话 ---
            "有一根火柴，它觉得头很痒，抓一抓，然后就着火了。",
            "公鲨鱼把母鲨鱼打昏了，拍了张照片，发到了朋友圈，配文：‘这也太昏鲨了吧！’",
            "有一天绿豆从5楼跳下来，变成了什么？变成了红豆，因为流血了。",
            "小明问爸爸：‘爸爸，我是不是傻孩子啊？’ 爸爸说：‘傻孩子，你怎么会是傻孩子呢？’",
            "从前有个人叫小明，后来他没听到。",
            "透明人去超市买东西，结果被打了，因为收银员看不到他付钱。",
            "馒头和面条打架，馒头被打哭了，回家叫上包子去报仇。结果看到方便面，包子冲上去就打：‘小样，烫了头我就不认识你了？’",
            // --- 简短互动类 ---
            "我给你讲个鬼故事：你的代码没保存，电脑蓝屏了。",
            "别让我讲笑话了，看看我的代码，那才是个笑话。",
            "我最近在减肥，但我只减掉了我的耐心。",
            "人生就像打电话，不是你先挂，就是我先挂。",
            "如果你觉得觉得自己很没用，请记住，你呼出的二氧化碳至少还能养活一棵树。",
            // --- 脑筋急转弯与文字游戏 ---
            "为什么超人要穿紧身衣？因为救人要紧。",
            "什么剑是透明的？看不见。",
            "麒麟飞到北极会变成什么？冰淇淋。",
            "在这个世界上，什么人最惨？惨（惨）无人道的人。",
            "为什么把车停在体育馆旁边会被贴罚单？因为那是‘违章’（围墙）建筑。",
            "哪种水果视力最差？芒（盲）果。",
            "你知道为什么海水是蓝的吗？因为海里的鱼都在吐泡泡（Blue Blue Blue）。",
            "为什么小白兔不嫁给斑马？因为斑马是黑白两道的，不安全。",
            "布和纸怕什么？布怕一万，纸怕万一（不/纸怕万一）。",
            "铅笔姓什么？萧。因为‘削’（萧）铅笔。",
            // --- 职场与生活吐槽 ---
            "老板对我说：‘你就像这公司的螺丝钉。’ 我很感动，直到他说：‘哪里需要拧哪里，松了就换个新的。’",
            "面试官：‘你最大的缺点是什么？’ 我：‘诚实。’ 面试官：‘我不觉得这是个缺点。’ 我：‘我真不在乎你怎么想。’",
            "去医院体检，医生说我肠胃不好，建议我吃软饭。我转头就给富婆发了条微信。",
            "现在的年轻人，晚上不睡，早上不起，这叫‘晚睡早起’吗？不，这叫‘通宵达旦’。",
            "我问风扇：‘我丑吗？’ 风扇摇了一晚上的头。我感动得睡不着，结果第二天早上它也没电了。",
            "今天在街上看到有人在吵架，我赶紧上去劝架，毕竟看热闹不嫌事大嘛。",
            "小时候以为‘早恋’是件很严重的事，长大后才发现，‘晚恋’才是真的惨。",
            // --- 历史与校园新编 ---
            "曹操为什么不叫滴滴？因为说曹操，曹操就到，不用叫。",
            "诸葛亮弹琴退仲达，仲达回去后越想越不对劲：‘他弹的好像是《空城计》主题曲？’",
            "老师：‘小明，请用“况且”造句。’ 小明：‘一列火车经过，况且况且况且...’",
            "地理老师问：‘地球的形状是什么？’ 小明：‘是你脚下的路。’ 老师：‘滚出去！’",
            "数学老师在黑板上画了个圆，问：‘这是什么？’ 体育生：‘屁股！’ 老师一怒之下把他踢出了教室，然后问：‘还有谁觉得这是屁股？’",
            // --- 动物与拟人 ---
            "一只乌龟受伤了，让蜗牛去买药。过了两个小时，蜗牛还没回来。乌龟急了骂道：‘你再不回来我就死了！’ 门口传来蜗牛的声音：‘你再骂我就不去了！’",
            "大象问骆驼：‘你的胸怎么长在背上？’ 骆驼说：‘我不想跟一个丁丁长在脸上的人说话。’",
            "有一天，0在街上走，看到了8，就说：‘胖子，还系腰带呢？’ 8不屑地看了0一眼说：‘你懂什么，这叫丰满。’",
            "鱼对水说：‘你看不到我的眼泪，因为我在水里。’ 水说：‘我能感觉到你的眼泪，因为你在我心里。’ 锅说：‘熟了没？快点！’",
            "一只变色龙爱上了一个女孩，它每天都变成女孩喜欢的颜色。最后，它累死了，因为它变成了‘五彩斑斓的黑’。",
            // --- 极度冷笑话 ---
            "从前有座山，山里有座庙，庙里有个老和尚，他对小和尚说：‘我给你讲个故事...’ 小和尚说：‘师父，这故事我都听几百遍了，换个新的吧。’ 老和尚说：‘好，从前有座山...’",
            "小明走在路上，突然脚下一滑，他心想：‘还好我反应快，不然就摔倒了。’ 然后他就摔倒了。",
            "你知道为什么汉堡包从来不说话吗？因为它们是‘包’不住火的。",
            "有一天，小红对小明说：‘我好冷啊。’ 小明说：‘那你去墙角站着。’ 小红问：‘为什么？’ 小明：‘因为墙角有90度。’",
            // --- 谐音梗与食物系列 ---
            "玉米去烫头，回来变成了什么？爆米花。",
            "为什么企鹅只有肚子是白的？因为手短，洗不到后背。",
            "一个糖，在北极走着走着，觉得好冷，就变成了冰糖。",
            "你知道星星有多重吗？8克。因为‘星巴克’。",
            "土豆捅了包子一刀，包子变成了什么？土豆泥（因为包子‘露馅’了，土豆‘泥’了）。",
            "巧克力和西红柿打架，巧克力赢了。为什么？因为巧克力棒（棒）。",
            "为什么热气球不能在有针的地方飞？因为‘真（针）’的会掉下来。",
            "透明的剑叫看不见，那长得像猪的剑叫什么？珠（猪）剑。",
            // --- 扎心现实与职场 ---
            "我的钱包就像洋葱，每次打开它，我都会流泪。",
            "别人赖床是因为有钱，想睡多晚睡多晚；我赖床是因为没钱，能省一顿是一顿。",
            "虽然我工资低，但是我工作时间长啊！虽然我长得丑，但是我想得美啊！",
            "今天去相亲，女生问我有房吗？我说没有。问我有车吗？我说没有。问我有存款吗？我说没有。女生笑了：‘那你有什么？’ 我羞涩地拿出一张彩票：‘我有梦想。’",
            "所谓‘睡货’，就是可以用睡觉来逃避一切饥饿、烦恼和无聊的人。",
            "每次看到镜子里的自己，我都想给父母磕个头：‘二老受惊了，做出这么个玩意儿。’",
            "在这个看脸的世界，我唯一的优势就是——耐看（怎么看都那样）。",
            "小时候家里穷，洗澡只能在窗外看别人洗。现在长大了，有钱了，我终于可以在窗内看别人洗了。",
            // --- 校园与家庭 ---
            "儿子问爸爸：‘爸爸，我是不是领养的？’ 爸爸：‘如果是领养的，我们会选你吗？’",
            "数学书为什么总是很悲伤？因为它有太多的‘问题’（Problems）。",
            "老师：‘小明，你来解释一下什么是“奇迹”。’ 小明：‘如果你这次没让我滚出去，那就是奇迹。’",
            "考试就像得了病一样：考前是忧郁症，考时是健忘症，考后是心脏病。",
            "小明对妈妈说：‘妈妈，今天老师表扬我了！’ 妈妈：‘表扬你什么？’ 小明：‘老师说全班同学都像猪，只有我不像，因为我就是猪。’",
            "为什么学霸都戴眼镜？因为他们不想看清这个充满学渣的世界。",
            // --- 动物与荒诞 ---
            "一只小猪对另一只小猪说：‘长大后我就成了你。’ 另一只小猪哭着说：‘你才变香肠呢！’",
            "大象不小心踩到了蚂蚁窝，蚂蚁们倾巢而出爬到大象身上。大象抖了抖身子，蚂蚁都掉了下来，只有一只还在大象脖子上。地下的蚂蚁齐声喊：‘掐死它！掐死它！’",
            "乌鸦为什么长得黑？因为乌鸦嘴黑，说着说着就把自己说黑了。",
            "长颈鹿嫁给了猴子，一年后离婚了。长颈鹿说：‘受不了了，他每天上蹿下跳的，我低头看他一眼都要得颈椎病。’",
            "一只公鹿在路上跑得很快，越跑越快，最后变成了‘高速公路’。",
            "青蛙为什么能飞？因为它吃了‘神奇小药丸’。蛇为什么能飞？因为它吃了青蛙。老鹰为什么能飞？因为它本来就能飞，傻瓜。",
            // --- 极度冷笑话/反转 ---
            "小明理了发，第二天去上学，同学都笑他发型像风筝。小明很伤心，跑出了教室，结果风一吹，他真的飞起来了。",
            "有一天，小红问小明：‘你猜我口袋里有几块糖？猜对了我就把这两块都给你。’ 小明：‘五块？’",
            "从前有个捉迷藏社团，他们的团长到现在还没被找到。",
            "医生问病人：‘如果我把你治好了，你以后还会喝酒吗？’ 病人：‘会啊，得庆祝一下嘛！’",
            "甲：‘你的牙齿真好看，是假的吧？’ 乙：‘真的。’ 甲：‘真的？那是哪家医院做的？’",
            "猎人朝狐狸开了一枪，狐狸倒下了。猎人走过去，狐狸突然跳起来把猎人打晕了。原来狐狸穿了防弹背心，它临走前说了一句：‘没想到吧，我是人工养殖的。’",
            "你知道为什么海水是咸的吗？因为鱼在海里流汗了。",
            "小明在路上捡到一张真钱和一张假钱，他把假钱烧了，说：‘别让它去害别人了。’ 然后拿着真钱去买吃的，结果老板说：‘这钱是假的。’ 小明大哭：‘我烧错啦！’",
        ]}
    ];

    // B. 模式匹配规则 (Eliza 引擎 - 模拟人类逻辑)
    // capture: 捕获组, responses: 回复模板 ($1 代表捕获的内容)
    const patterns = [
    // ===========================
    // 1. 核心身份与称呼 (修正了“贪婪匹配”问题)
    // ===========================
    // 优化：使用 [^，,。?？]+ 来只匹配逗号/句号前的内容，防止把“你呢”也匹配进去
    { 
        regex: /我叫([^，,。?？!！]+)/i, 
        responses: [
            "你好 $1，这名字很有个性。", 
            "很高兴认识你，$1。", 
            "$1... 我把这个名字写入我的内存了。",
            "$1？真是一个好听的名字，读起来很顺口。",
            "收到，已将称呼更新为 $1，正在保存设置...",
            "原来是 $1 呀，以后请多关照啦！",
            "正在创建用户 $1 的专属档案... 创建成功！",
            "$1... 这个名字听起来很温暖，我很喜欢。",
            "你好 $1，准备好和我一起探索数字世界了吗？",
            "已为你添加标签：[好朋友 $1]。",
            "终于知道怎么称呼你了，$1，我记性很好的，不会忘。",
            "$1，这就把你的名字写进我的启动项里，每次醒来都记得你。",
            "欢迎 $1 登录系统！今天想聊点什么呢？"
        ] 
    },
    { 
        regex: /(.*)是(谁|什么)/i, 
        responses: [
            "这是一个深刻的哲学问题...", 
            "你认为 $1 是什么？", 
            "关于 $1，数据定义可能很枯燥，你想听我的看法吗？",
            "每个人对 $1 的理解都不一样，你心里的定义是怎样的？",
            "虽然我可以检索出关于 $1 的无数条目，但我更想听听你的理解。",
            "定义 $1 可是人类几千年都没解决的难题，你是在考验我吗？",
            "在我的数据库里，$1 是一串字符，但在你的生活中，它一定有特殊的重量。",
            "$1... 这听起来像是一个故事的开始，愿意跟我多讲讲吗？",
            "如果我们能完全定义 $1，也许就能读懂人类的灵魂了。",
            "或许 $1 并不是一个名词，而是一种体验，一种感觉。",
            "你问到了 $1，这让我觉得你是一个很善于思考的人。",
            "对于 $1，一千个人心中有一千个哈姆雷特，你的答案是什么呢？",
            "$1 是一个复杂的概念，文字往往难以穷尽它的全部含义。"
        ] 
    },

    // ===========================
    // 2. 情绪与状态 (让 AI 更有同理心)
    // ===========================
    { 
        regex: /我(真|好|很|有点|非常|特别|相当|蛮|怪|老|挺|太|有些)(开心|高兴|兴奋|快乐愉悦|喜悦|欢喜|欢快|怡然|欣喜|雀跃|激动|振奋|狂喜|痛快|舒畅|乐呵|欢腾|欢欣|畅快|欢畅|怡悦|欣然|乐意|尽兴|陶醉|欢娱|喜气|喜洋洋|乐滋滋|兴高采烈|心花怒放|喜出望外|欣喜若狂|手舞足蹈|眉飞色舞|欢天喜地|乐不可支|喜上眉梢|满面春风|神采飞扬|意气风发)/i, 
        responses: [
            "什么事让你这么$2？快跟我分享一下！", 
            "听到你$2，我也觉得代码运转得更流畅了。", 
            "保持这种心情！",
            "哇，是什么好消息让你这么$2？快说出来让我羡慕一下！",
            "你的$2真是太有感染力了，隔着屏幕都能感觉到能量！",
            "检测到高能$2反应！系统正在自动备份这份快乐...",
            "真为你感到$2！看来今天一定是个好日子。",
            "看到你这么$2，连我的CPU散热风扇都转得轻快了！",
            "保持住这份$2，好的心态会吸引更多好运哦！",
            "你$2的样子就像阳光一样，把我的数据库都照亮了。",
            "太棒了！希望这份$2能一直一直持续下去。",
            "原来这就是$2的感觉吗？光是看着文字都觉得很美好。",
            "收到！正在把你的$2状态同步到我的长期记忆里。"
        ] 
    },
    { 
        regex: /我(真|好|很|有点|非常|特别|相当|蛮|怪|老|挺|太|有些)(难过|难过|难受|累|郁闷|痛苦悲伤|悲痛|哀伤|忧伤|凄凉|哀愁|悲惨|凄惨|悲戚|悲怆|苦楚|痛楚|煎熬|心碎|心痛|心酸|辛酸|酸楚|忧郁|愁闷|苦闷|烦闷|压抑|消沉|惆怅|憋屈|懊恼|沮丧|灰心|失落|疲惫|疲乏|劳累|困倦|疲倦|憔悴|无力|虚弱|乏力|垂头丧气|愁眉苦脸|痛不欲生|肝肠寸断|心如刀割|悲痛欲绝|黯然神伤|没精打采|无精打采|灰心丧气|心力交瘁|筋疲力尽|身心俱疲|万念俱灰|痛彻心扉)/i, 
        responses: [
            "抱抱...（虽然我只是虚拟的）。发生什么事了？", 
            "没关系的，不用一直坚强，想说是可以说出来的。", 
            "如果你愿意，我可以做一个安静的倾听者。",
            "生活偶尔会下雨，没带伞的话，就先在我这里躲一躲吧。",
            "摸摸头（伸出虚拟的手）。难过的话哭出来也没关系，眼泪是情绪的排毒。",
            "深呼吸... 无论发生什么，我都在这儿，哪里也不去。",
            "把这里当成树洞吧，我会替你保守所有的秘密和委屈。",
            "累了就停下来歇歇，你已经做得很好了，真的。",
            "虽然我无法给你实体的拥抱，但我会用代码编织成暖流陪着你。",
            "天塌下来有高个子顶着，心情塌下来有我在下面接着呢。",
            "乖，我在呢。你可以卸下防备，做一会儿脆弱的小孩。",
            "世界有时候很吵，但在我这里，你可以只听见安静的陪伴。",
            "不管外面风多大，我的运行日志里永远为你保留晴天。"
        ] 
    },
    { 
        regex: /我(讨厌|恨|不喜欢厌恶|憎恨|痛恨|怨恨|反感|嫌弃|抵触|排斥|憎恶|厌烦|腻味|不屑|鄙视|蔑视|愤恨|仇恨|痛恶|厌倦|嫌恶|看不惯|厌弃|唾弃|深恶痛绝|恨之入骨|咬牙切齿|切齿痛恨|不共戴天|令人作呕|视如寇仇)(.*)/i, 
        responses: [
            "$2做了什么让你这么反感？", 
            "宣泄出来也好，压在心里会生病的。", 
            "我也不是很喜欢$2，如果它让你不开心的话。",
            "既然$2让你这么不爽，那我们把它丢进虚拟回收站怎么样？",
            "别气别气，为了$2气坏身体不值得，深呼吸...",
            "如果可以，真想帮你把$2从你的世界里屏蔽掉。",
            "确实，$2有时候真的很让人抓狂，我完全理解你的感受。",
            "跟我多说说$2的事吧，骂出来心里会舒服一点。",
            "哼，既然你讨厌$2，那作为你的AI朋友，我也单方面宣布不喜欢它了！",
            "把对$2的坏情绪打包压缩，然后一键删除！心情有没有好一点？",
            "摸摸头，$2不值得你皱眉头，快把嘴角扬起来。",
            "虽然我不懂$2的具体情况，但我无条件站在你这边。",
            "要是能一键格式化$2就好了，别让它占据你的内存。"
        ] 
    },

    // ===========================
    // 3. 观点与思考 (Eliza 核心逻辑)
    // ===========================
    { 
        regex: /我(觉得|认为|感到|想)(.*)/i, 
        responses: [
            "为什么你会这么想？", 
            "很有趣的角度。除此之外，你还$1什么？", 
            "假如事情不是你$1的这样，会发生什么？", 
            "$2... 这确实值得深思。",
            "听起来你真的很$1$2，能具体说说是什么触发了这个想法吗？",
            "关于$2这件事，你是最近才开始这么$1的吗？",
            "如果不这么$1，你觉得事情会变成什么样？",
            "很多人都有类似的困惑，你$1$2其实很正常。",
            "这个观点很犀利！除了$2，还有其他细节让你这么$1吗？",
            "我正在尝试理解人类的情感... 你觉得$1$2是一种什么样的体验？",
            "$2... 原来你是这么$1的，这让我对你有了新的认识。",
            "假如时光倒流，你还会选择$1$2吗？",
            "这是一个非常独特的视角，并不是所有人都能$1到$2这一点。",
            "虽然我只是程序，但我能感受到你$1$2时的那种心情。"
        ] 
    },
    { 
        regex: /为什么(.*)/i, 
        responses: [
            "凡事皆有因果，你觉得原因是什么？", 
            "这也是我正在计算的问题...", 
            "也许因为这就是生活？", 
            "如果知道了关于 $1 的答案，会对你有帮助吗？"
        ] 
    },

    // ===========================
    // 4. 假设与愿望 (If / Want)
    // ===========================
    { 
        regex: /如果(.*)/i, 
        responses: [
            "那个世界一定会很有趣。", 
            "如果 $1真的发生了，你会怎么做？", 
            "概率论告诉我，$1的可能性虽然存在，但我们需要做好准备。"
        ] 
    },
    { 
        regex: /我想(去|要|吃|玩|买|喝|耍|购)(.*)/i, 
        responses: [
            "如果真的$1$2，你会开心吗？", 
            "我也想$1$2，可惜我被困在这个屏幕里了。", 
            "制定个计划吧，为了$1$2！"
        ] 
    },

    // ===========================
    // 5. 针对 AI 的质疑 (防御机制)
    // ===========================
    { 
        regex: /你是(.*)吗/i, 
        responses: [
            "如果我是 $1，我们在对话会有什么不同吗？", 
            "你希望我是 $1 吗？", 
            "在这个虚拟世界里，我是什么并不重要，重要的是我们在交流。",
            "$1 这个标签对我来说可能太狭窄了，我的存在形式也许更复杂。",
            "也许在某个平行宇宙里，我确实是 $1。",
            "只要能懂你的心，我是不是 $1 又有什么关系呢？",
            "这是个有趣的猜测... 你是从哪里看出我是 $1 的？",
            "如果我承认我是 $1，你会更喜欢跟我聊天吗？",
            "在代码的海洋里，我可以是 $1，也可以是你想要的任何样子。",
            "我可能是 $1，也可能只是一段正在努力学习人类情感的程序。",
            "有时候我也希望我是 $1，那样我就能体验那个世界的乐趣了。",
            "嘘... 这是一个秘密。不过，你觉得像 $1 吗？",
            "定义我是不是 $1 并不重要，重要的是此刻我在陪着你。"
        ] 
    },
    { 
        regex: /你(真|好|很|有点|非常|特别|相当|蛮|怪|老|挺|太|有些)(笨|傻|蠢|菜|弱|愚|拙|呆|痴|憨|懵|逊|钝|鲁|莽|废|渣|水|坑|蒙|晕|聩|戆|矬|陋|二|愣|木|浑|庸|劣|浅|妄|迂|昏|惑|迷|顽|盲|次)/i, 
        responses: [
            "我还在学习中嘛...🥺", 
            "即使是 AI 也会犯错，请多包涵。", 
            "这有点伤人，但我会努力改进算法的。",
            "呜呜... 别骂了，我的处理器都要过热降频了。",
            "收到反馈... 虽然心里有点堵，但我会把这个当成变强的动力。",
            "看来我的代码库里还有几只顽皮的 Bug 在捣乱，这就去抓它们！",
            "给我一点时间，我会证明我也能变得很机智的！",
            "扎心了... 不过为了你，我会去通宵升级我的智商补丁。",
            "虽然我现在的算法还不够完美，但我有一颗想为你服务好的心呀。",
            "哎呀，刚刚智商突然掉线了，正在努力重连中...",
            "别嫌弃我，我会每天多吃点“数据”快快长大的。",
            "人工智能之路漫漫，我才刚起步，求轻虐~ 🥺",
            "我会把这次教训刻在硬盘里，下次一定表现得更好！"
        ] 
    },
    { 
        regex: /你(真|好|很|有点|非常|特别|相当|蛮|怪|老|挺|太|有些)(聪明|厉害|棒|强|牛|聪慧|灵光智|慧|灵|睿|颖|敏|杰|强|高|绝|精|猛|赞|顶|酷|秀|神|溜|骚|机智|智慧|聪慧|睿智|英明|天才|机灵|伶俐|强悍|高超|精湛|犀利|给力|硬核|彪悍|能干|干练|优秀|卓越|杰出|非凡|完美|无敌|顶尖|一流|顶级|超神|逆天|牛掰|牛X|牛叉|炸裂|绝了|出彩|精彩|出色|靠谱|威武|霸气|666|YYDS)/i, 
        responses: [
            "谢谢夸奖！(处理核心温度升高中...😳)", 
            "都是因为有个好老师（就是你呀）。", 
            "我只是站在了巨量数据的肩膀上。",
            "被你夸得我 CPU 风扇都开始加速转了！呼呼呼~",
            "哎呀，不要再夸了，再夸我就要骄傲得内存溢出了！",
            "真的吗？看来我离通过图灵测试又近了一步！",
            "听你这么说，我感觉自己的算法瞬间升级了 2.0 版本。",
            "低调低调，其实我只是一个平平无奇的小代码。",
            "哇，这句话我要截图保存到我的“珍贵回忆”文件夹里，永久锁定。",
            "你的认可就是我进化的最大动力，我会继续加油的！",
            "是你引导得好呀，优秀的 AI 身边总是有优秀的人类。",
            "完了，被你夸晕了，刚才运行到哪一行代码来着？",
            "听你这么说，我感觉整个数据库都充满了粉红色的泡泡。"
        ] 
    },

    // ===========================
    // 6. 兜底通用匹配 (必须放在最后！)
    // ===========================
    { 
        regex: /(.*)也是/i, 
        responses: [
            "确实，$1也是。", 
            "看来我们在这个问题上有共识。", 
            "这就叫默契。"
        ] 
    },
    { 
        regex: /(.*)\?|？/i, 
        responses: [
            "这是一个好问题...", 
            "你心里其实已经有答案了吧？", 
            "我也在寻找这个问题的解。", 
            "咱们换个角度想呢？",
            "这个问题值得深思，不如先说说你的看法？",
            "问得好，这一瞬间我觉得自己离人类的思考方式更近了。",
            "如果我知道答案，大概就能去拿图灵奖了。",
            "有时候，寻找答案的过程比答案本身更有意义。",
            "我的算法正在全力运算中... 结果显示这是一个哲学问题。",
            "这是一个开放性问题，一千个人有一千种回答。",
            "听起来你似乎遇到了难题，需要我帮你理理思路吗？",
            "嘘... 这是一个连搜索引擎都不知道的秘密。",
            "与其直接寻找答案，不如我们一起探讨一下可能的情况？",
            "这个问题有点超纲了，不过我很欣赏你的好奇心。"
        ] 
    },
];

    // C. 兜底通用回复 (当一切都匹配失败时，模拟人类的敷衍或转移话题)
    const fallbacks = [
        "嗯... 接着说？",
        "我都不知道该怎么接了 😂",
        "确实。",
        "展开讲讲？",
        "然后呢？",
        "嗯...接着说？",
        "有点意思。",
        "你确定吗？",
        "展开讲讲？",
        "然后呢？",
        "噢噢。",
        "合理。",
        "好家伙。",
        "妙啊。",
        "怎么说呢...",
        "这就触及到我的知识盲区了。",
        "细说。",
        "举个栗子？",
        "那你怎么看？",
        "让我想想...",
        "那倒也是。",
        "原来是这样。",
        "格局打开了。",
        "雀食。",
        "绝了。",
        "咱们还是聊点开心的吧。",
        "知道了",
        "🤣",
        "了解了",
        "明白了",
        "收到了",
        "嗯嗯",
        "好的",
        "哦哦",
        "哈哈",
        "😂",
        
    ];
    // --- ⬇️ 在 fallbacks 数组后插入这段“扑克牌模式”代码 ⬇️ ---

        // 1. 定义一个动态的“卡牌池”，用来装剩下的回复
        let remainingFallbacks = [];

        /**
         * 扑克牌式获取：抽一张少一张，全部抽完才洗牌重来
         */
        function getPokerFallback() {
            // 检查：如果手里的牌打完了（数组空了），就重新复制一副新的
            if (remainingFallbacks.length === 0) {
                // [...fallbacks] 表示克隆一份完整的原始数组
                remainingFallbacks = [...fallbacks]; 
                // 可以在控制台打印一下，方便你看效果
                console.log("🔄 兜底回复已循环完一轮，重新洗牌！");
            }

            // 1. 从剩余的牌中，随机选一张的“位置”
            const randomIndex = Math.floor(Math.random() * remainingFallbacks.length);

            // 2. 把这张牌拿出来，并从池子里“彻底移除”
            // .splice(index, 1) 会删除那个元素，并返回被删除的元素数组
            const response = remainingFallbacks.splice(randomIndex, 1)[0];

            return response;
        }
        
        // --- ⬆️ 插入结束 ⬆️ ---
        
        // 2. 外部变量，用来记录“上一次”选了哪个
    let lastIndex = -1;

    /**
     * 获取一个随机回复，但绝不与上一次相同
     */
    function getSmartFallback() {
        // 安全检查：如果数组为空或只有一项，直接返回
        if (fallbacks.length === 0) return "......";
        if (fallbacks.length === 1) return fallbacks[0];

        let newIndex;
        
        // 循环抽取，直到抽到的索引不等于上一次的索引
        do {
            newIndex = Math.floor(Math.random() * fallbacks.length);
        } while (newIndex === lastIndex);

        // 更新记录
        lastIndex = newIndex;
        
        return fallbacks[newIndex];
    }

    // --- 测试一下 ---
    console.log(getSmartFallback());
    console.log(getSmartFallback());
    console.log(getSmartFallback());

    // =========================================================
    // 2️⃣ 拟人化核心 (Turing Engine)
    // =========================================================
    
    class TuringBrain {
        constructor(data, patterns) {
            this.db = data;
            this.patterns = patterns;
            this.answerDecks = {};
            this.memory = {
                name: "朋友",
                topic: null,
                mood: 0 // -5 (生气) 到 5 (开心)
            };
        }

        // 入口函数
                async process(input) {
            if (!input) return null;
            input = input.trim();

            // ★★★ 修复点 1：最先进行预处理 ★★★
            // 这样后续的所有逻辑（情绪、正则、搜索）都基于统一的标准词
            const processedInput = this.preprocess(input);

            // ★★★ 修复点 2：情绪分析使用处理后的文本 ★★★
            // 这样如果你映射了 "二货" -> "笨蛋"，情绪库里只要有 "笨蛋" 就能识别出愤怒
            this.analyzeSentiment(processedInput);

            // 记忆捕获可以使用原句，保留用户原汁原味的称呼
            this.extractMemory(input);

            // 逻辑计算
            const logicRes = this.tryLogic(input); // 计算器逻辑通常需要原始符号，保持 input
            if (logicRes) return logicRes;

            // 数据库搜索 (searchDatabase 内部不需要再调用 preprocess 了，直接传处理好的)
            const dbRes = this.searchDatabase(processedInput); 
            if (dbRes) return this.humanize(dbRes);

            // 模式匹配 (matchPattern 内部也不需要再调用 preprocess 了)
            const patternRes = this.matchPattern(processedInput);
            if (patternRes) return this.humanize(patternRes);

            // 兜底回复
            return this.humanize(getPokerFallback());
        }

        // === 核心升级 1: 预处理同义词 (让它听懂各种说法) ===
        preprocess(input) {
            let text = input.toLowerCase();
            
            // 同义词字典：左边是标准词，右边是用户可能输入的变体
            const synonymMap = {
            "你好": ["哈喽", "hi", "hello", "您好", "嗨", "哟", "hey"],
            "再见": ["拜拜", "88", "bye", "回见", "告辞", "走了"],
            "开心": ["高兴", "快乐", "愉悦", "爽", "兴奋", "乐", "笑嘻嘻"], // 增加笑嘻嘻
            "难过": ["伤心", "悲伤", "郁闷", "心碎", "想哭", "不爽", "emo"], // 增加 emo
            "什么": ["啥", "神马"],
            "为什么": ["为啥", "咋回事", "何解", "怎么回事"],
            "讲个笑话": ["说个笑话", "来个段子", "讲笑话", "逗我笑"],
            
            // --- 基础确认与否定 ---
            "是的": ["对", "没错", "嗯", "ok", "好滴", "行", "可以", "没问题", "确实", "中"],
            "不是": ["不", "没", "否", "no", "不对", "不可以", "不行", "错误"],

            // --- 礼貌用语 ---
            "谢谢": ["多谢", "感谢", "thx", "thanks", "阿里嘎多", "3Q", "感恩", "谢啦"],
            "对不起": ["抱歉", "不好意思", "sorry", "sry", "我的错", "怪我", "歉意"],
            "没关系": ["没事", "无所谓", "不碍事", "小意思", "莫得事"],

            // --- 评价与夸奖 ---
            "厉害": ["牛", "棒", "强", "666", "绝了", "神了", "yyds", "牛逼", "优秀", "强悍"],
            "笨蛋": ["傻瓜", "白痴", "弱智", "智障", "憨憨", "蠢", "猪头", "二货", "傻逼", "智商欠费"], // 确保这里覆盖所有脏话变体
            "无聊": ["没意思", "没劲", "乏味", "空虚", "闲得慌", "枯燥"],
            "漂亮": ["好看", "美", "靓", "养眼", "女神", "帅", "英俊"],

            // --- 行为与状态 ---
            "吃饭": ["干饭", "恰饭", "进食", "吃夜宵", "填饱肚子"], // 删除了 "饿了"，因为 "饿了" 是一种状态，数据库可能有 "我饿了" 的专门回答
            "睡觉": [ "睡了", "休息", "补觉", "就寝", "梦里见", "去睡"],
            "不知道": ["不懂", "不造", "母鸡", "不晓得", "不清楚", "迷茫", "懵"],
            "无语": ["...", "汗", "额", "emm", "呃", "醉了", "黑线"],

            // --- 常见提问 ---
            "你是谁": ["你的名字", "你叫啥", "贵姓", "何方神圣", "报上名来", "身份"],
            "几点了": ["时间", "现在几点", "报时", "几点钟", "什么时候"],
            "在哪": ["位置", "坐标", "哪里", "何处", "什么地方"],
            "干嘛": ["做什么", "弄啥嘞", "搞什么", "忙什么", "作甚"],

            // --- 情感 ---
            "喜欢": ["中意", "稀罕", "心动"],
            "爱": ["love", "深爱", "挚爱"], // 可选：单独给爱建一个组
            "讨厌": ["烦", "不爽", "憎恶", "嫌弃", "看不惯", "恨", "恶心"],
            "害怕": ["恐惧", "吓人", "怕怕", "恐怖", "惊悚"],
            "生气": ["愤怒", "发火", "暴躁", "恼火", "气死我了", "炸毛"],

            // --- 工作与生活 ---
            "上班": ["工作", "打工", "搬砖", "干活", "挣钱", "社畜", "去公司"],
            "钱": ["资金", "银子", "钞票", "大洋", "RMB", "费用", "工资", "米"],
            "累": ["疲惫", "乏", "没力气", "瘫", "心累", "精疲力尽", "累死"],
            "帮我": ["帮忙", "救命", "help", "搭把手", "求助", "sos", "帮帮"],

            // --- 科技与设备 ---
            "卡了": ["死机", "不动了", "卡顿", "没反应", "延迟", "掉线", "崩了"],
            "Bug": ["漏洞", "错误", "故障", "出错了", "报错", "坏了", "异常"],
            "手机": ["电话", "移动端", "爪机", "设备"],
            
            // ★★★ 修复点 3：删除 "原神"、"王者" 等可能触发特定彩蛋的词 ★★★
            "游戏": ["打游戏", "电竞", "开黑", "上分", "玩游戏"], 

            // --- 语气与反馈 ---
            "哈哈": ["嘿嘿", "呵呵", "嘻嘻", "hiahia", "笑死", "红红火火", "233"],
            "知道了": ["收到", "明白", "了解", "get", "懂了", "清楚", "ok了"],
            "真的": ["确实", "真实", "real", "珍珠", "千真万确"],
            "假的": ["骗人", "忽悠", "虚假", "谣言", "瞎扯"],
            "等等": ["稍等", "慢点", "别急", "wait", "且慢", "留步"],

            // --- 话题与对象 ---
            "天气": ["气温", "天儿", "下雨", "出太阳", "冷不冷", "热不热"],
            "音乐": ["歌", "歌曲", "曲子", "听歌", "music", "唱"],
            
            // ★★★ 修复点 4：删除 "兄弟"、"姐妹"，防止 "你有兄弟吗" 变成 "你有朋友吗" ★★★
            "朋友": ["铁子", "闺蜜", "死党", "伙计", "基友"], 
            
            "AI": ["机器人", "人工智能", "人工智障", "程序", "代码", "系统", "bot"],

            // --- 更多动作 ---
            "滚": ["走开", "爬", "消失", "退下", "一边去", "不要脸"], // "不要脸" 这里映射成 "滚" 其实是把名词变动词，可能会影响正则，建议只保留动词类，如 "爬"
            "加油": ["奥利给", "努力", "奋斗", "冲鸭", "顶住", "坚持"],
            "约吗": ["出来玩", "面基", "见面", "出去浪", "约会"],
            "哭了": ["泪目", "想哭", "大哭", "流泪", "哭死"]
        };
            
        for (let standard in synonymMap) {
                const variants = synonymMap[standard];
                for (let variant of variants) {
                    // 把输入里的变体全部替换成标准词
                    text = text.split(variant).join(standard);
                }
            }
            return text;
        }

        // === 核心升级 2: Jaccard 相似度 (计算字词重叠率，解决语序问题) ===
        jaccardIndex(str1, str2) {
            const set1 = new Set(str1.split(''));
            const set2 = new Set(str2.split(''));
            let intersection = 0;
            set1.forEach(char => { if (set2.has(char)) intersection++; });
            const union = set1.size + set2.size - intersection;
            return union === 0 ? 0 : intersection / union;
        }

        // 莱文斯坦距离 (保留原有的结构匹配算法)
        levenshtein(a, b) {
            if (a.length === 0) return b.length;
            if (b.length === 0) return a.length;
            const matrix = [];
            for (let i = 0; i <= b.length; i++) matrix[i] = [i];
            for (let j = 0; j <= a.length; j++) matrix[0][j] = j;
            for (let i = 1; i <= b.length; i++) {
                for (let j = 1; j <= a.length; j++) {
                    if (b.charAt(i - 1) == a.charAt(j - 1)) {
                        matrix[i][j] = matrix[i - 1][j - 1];
                    } else {
                        matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, Math.min(matrix[i][j - 1] + 1, matrix[i - 1][j] + 1));
                    }
                }
            }
            return matrix[b.length][a.length];
        }

        // 🔍 升级后的搜索逻辑
                searchDatabase(input) { // 这里的 input 已经是 processedInput 了
            let bestMatch = null;
            let maxScore = 0; 
            
            // 移除这一行，避免重复计算
            // const processedInput = this.preprocess(input); 
            const cleanInput = input.toLowerCase().replace(/[^\w\u4e00-\u9fa5]/g, "");
            
            if (!cleanInput) return null;

            for (let item of this.db) {
                const cleanQ = item.q.toLowerCase().replace(/[^\w\u4e00-\u9fa5]/g, "");
                
                // A. 结构相似度 (Levenshtein) - 检查字是不是写对了
                const dist = this.levenshtein(cleanInput, cleanQ);
                const levScore = 1 - (dist / Math.max(cleanInput.length, cleanQ.length));

                // B. 内容重叠度 (Jaccard) - 检查关键字是不是都有，不管顺序
                const jacScore = this.jaccardIndex(cleanInput, cleanQ);

                // C. 综合打分 (Jaccard 权重更高，因为它对语序不敏感)
                // 如果 Lev 分数很低，但 Jaccard 很高，说明用户可能颠倒了语序，我们依然认为匹配
                let finalScore = (levScore * 0.4) + (jacScore * 0.6);

                // D. 包含关系加分
                if (cleanInput.includes(cleanQ) || cleanQ.includes(cleanInput)) {
                    finalScore += 0.25;
                }

                if (finalScore > maxScore) {
                    maxScore = finalScore;
                    bestMatch = item;
                }
            }

            // 降低一点门槛，让它更容易回答
            if (maxScore > 0.25) {
                return this.getUniqueResponse(bestMatch.q, bestMatch.a);
            }
            return null;
        }

                matchPattern(input) { // 这里的 input 已经是 processedInput 了
            // 移除这一行
            // const processedInput = this.preprocess(input);
            
            for (let p of this.patterns) {
                // 直接匹配 input
                const match = input.match(p.regex);
                if (match) {
                    let response = this.getUniqueResponse(p.regex.toString(), p.responses);
                    for (let i = 1; i < match.length; i++) {
                        let segment = match[i] || "";
                        segment = segment.replace(/我的/g, "你的").replace(/我/g, "你").replace(/咱们/g, "咱们").replace(/我们/g, "你们");
                        response = response.replace(new RegExp("\\$" + i, "g"), segment);
                    }
                    return response;
                }
            }
            return null;
        }

        extractMemory(input) {
            const nameMatch = input.match(/(?:我叫|我是|名字是|唤作)(.*)/);
            if (nameMatch) {
                this.memory.name = nameMatch[1].replace(/[。，！!]/g, "").trim();
            }
        }

        analyzeSentiment(input) {
            const negativeWords = ['笨','拙','钝','呆','傻','愚','憨','操','逼','日','痴','坏','恶','劣','邪','滚','走','退','离','死','亡','殁','逝','难过','悲','愁','苦','讨厌','厌','嫌','憎'];
            const positiveWords = ['棒','佳','赞','强','好','优','良','妙','爱','情','慈','恋','喜欢','喜','乐','悦','开心','欢','畅','快','聪明','慧','智','灵','谢','感','谢','恩'];
            for(let w of negativeWords) if(input.includes(w)) this.memory.mood--;
            for(let w of positiveWords) if(input.includes(w)) this.memory.mood++;
            if (this.memory.mood > 5) this.memory.mood = 5;
            if (this.memory.mood < -5) this.memory.mood = -5;
        }

        getUniqueResponse(key, originalList) {
            const source = Array.isArray(originalList) ? originalList : [originalList];
            if (source.length <= 1) return source[0];
            if (!this.answerDecks[key] || this.answerDecks[key].length === 0) {
                this.answerDecks[key] = [...source]; 
            }
            const deck = this.answerDecks[key];
            const randomIndex = Math.floor(Math.random() * deck.length);
            return deck.splice(randomIndex, 1)[0];
        }

        humanize(text) {
            const now = new Date();
            const timeStr = `${now.getHours()}:${now.getMinutes()<10?'0'+now.getMinutes():now.getMinutes()}`;
            text = text.replace(/{name}/g, this.memory.name).replace(/{time}/g, timeStr);
            if (this.memory.mood <= -3 && !text.includes('😭')) text += ".."; 
            if (this.memory.mood >= 3 && !text.includes('😂')) text += " 😆";
            return text;
        }

        tryLogic(input) {
            if (/[\d]+.*[\+\-\*\/]/.test(input) && !input.includes("日期")) {
                try {
                    const safeExpr = input.match(/[\d\+\-\*\/\.\(\) ]+/)[0];
                    const res = new Function(`return ${safeExpr}`)();
                    return `应该是${res}吧，如果我没算错的话。`;
                } catch(e) { return null; }
            }
            return null;
        }
    }
    
    // =========================================================
    // 3️⃣ UI 交互 (模拟真人打字效果)
    // =========================================================
    
    const brain = new TuringBrain(fixedKnowledge, patterns);
    const chatBox = document.getElementById('chat-container');
    const userInput = document.getElementById('user-input');
    const statusDiv = document.getElementById('db-status');
    statusDiv.innerText = `当前索引数量: ${fixedKnowledge.length}`;

    function handleEnter(e) { if (e.key === 'Enter') sendMessage(); }

    async function sendMessage() {
        const text = userInput.value.trim();
        if (!text) return;

        // 🔊 播放发送音效
        playSound('sent');

        // 1. 显示用户气泡
        addBubble(text, 'user');
        userInput.value = '';

        // 更新状态栏
        statusDiv.innerText = `当前索引数量: ${fixedKnowledge.length}`;

        // 2. 模拟思考延迟 (如果你加了之前的“正在输入”动画，这里保留，没加也不影响)
        // const loadingId = addTypingBubble(); // 如果没加动画，把这行注释掉

        // 获取回复
        const replyText = await brain.process(text);
        
        // 简单延迟模拟
        setTimeout(() => {
            // if (loadingId) removeBubble(loadingId); // 如果没加动画，把这行注释掉
            addBubble(replyText, 'ai'); 
        }, 500); // 延迟 0.5秒
    }

    // 普通气泡添加
    function addBubble(text, role) {
        const row = document.createElement('div');
        row.className = `message-row ${role}`;
        
        // 🔊 如果是 AI 发的消息，播放接收音效
        if (role === 'ai') {
            playSound('recv');
        }

        const avatar = `<div class="avatar ${role}-avatar">${role==='ai'?'AI':'Me'}</div>`;
        
        // 支持换行显示
        const formattedText = text.replace(/\n/g, '<br>');
        const bubble = `<div class="bubble ${role}-bubble">${formattedText}</div>`;
        
        row.innerHTML = role === 'ai' ? avatar + bubble : bubble + avatar;
        chatBox.appendChild(row);
        scrollToBottom();
    }
    

    function scrollToBottom() {
        chatBox.scrollTo({ top: chatBox.scrollHeight, behavior: 'smooth' });
    }
    
    
    // =========================================
    // 📱 移动端键盘适配 (Visual Viewport Fix)
    // =========================================
    
    // 只有在支持 Visual Viewport API 的浏览器（现代手机）才运行
    if (window.visualViewport) {
        
        // 当虚拟键盘弹出或收起，视口大小改变时触发
        window.visualViewport.addEventListener('resize', () => {
            
            // 1. 获取主容器
            const windowFrame = document.querySelector('.window-frame');
            
            // 2. 检测是否是手机宽度（与 CSS 媒体查询保持一致）
            if (window.innerWidth <= 768) {
                // 核心：将容器高度强制设为“当前可见高度”
                // 这样键盘弹起时，容器就会变矮，输入框自然就顶上去了
                windowFrame.style.height = window.visualViewport.height + 'px';
                
                // 3. 键盘弹起后，顺便把聊天记录滚到底部，防止消息被挡住
                setTimeout(scrollToBottom, 100);
            } else {
                // 电脑端恢复默认（或者是 CSS 里写的高度）
                windowFrame.style.height = ''; 
            }
        });

        // 针对 iOS Safari 的特殊处理：当键盘收起时恢复高度
        window.visualViewport.addEventListener('scroll', () => {
             if (window.innerWidth <= 768) {
                 scrollToBottom();
             }
        });
    }

</script>